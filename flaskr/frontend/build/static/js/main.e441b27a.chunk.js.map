{"version":3,"sources":["components/_news/markdownStyle.module.css","components/tools/useUser.js","components/tools/useSettings.js","components/tools/contexts.jsx","components/tools/routes.js","components/MenuTab.jsx","components/tools/ReusableDialog.jsx","components/AvatarMenu.jsx","components/NavMenu.jsx","components/NavBar.jsx","components/tools/beep.mp3","components/AuthenticatedContent.jsx","components/tools/axiosTool.js","components/tools/daysAgo.js","components/_news/Posts.jsx","components/_news/PostSelect.jsx","components/_news/FullPanel.jsx","components/_news/Filter.jsx","components/_news/CreatePost.jsx","components/_news/News.jsx","components/_calculator/Complete.jsx","components/_calculator/Basic.jsx","components/_calculator/CalcHistory.jsx","components/_calculator/Calculators.jsx","components/tools/strFormat.js","components/_answers/CreditCards.jsx","components/_answers/AnswerButtons.jsx","components/_answers/Answers.jsx","components/_settings/Settings.jsx","components/_settings/answers/EditCreditCards.jsx","components/_settings/answers/EditAnswers.jsx","components/_settings/answers/AnswersSettings.jsx","components/_settings/calculator/NewItem.jsx","components/_settings/calculator/Lists.jsx","components/_settings/calculator/Items.jsx","components/_settings/calculator/CalculatorSettings.jsx","components/_settings/expressions/ExpressionsSettings.jsx","components/_user/UserLogin.jsx","components/_user/UpdateUserFrom.jsx","components/_user/UserOptions.jsx","components/_user/OtherUsersList.jsx","components/_user/CreateUpdateOtherUser.jsx","components/_user/UserAccount.jsx","components/App.jsx","index.js"],"names":["module","exports","useUser","useState","userString","localStorage","getItem","JSON","parse","getUser","user","setUser","setItem","stringify","useSettings","defaultSettings","theme_mode","calculator","postsFontFamily","notifVol","settingsStr","getSettings","settings","setSettings","UserContext","createContext","AuthContext","auth","setAuth","PostContext","fetchedPosts","setFetchedPosts","UserSettingsContext","userSettings","setUserSettings","GlobalContext","children","userValue","useMemo","authValue","postsValue","userSettingsValue","Provider","value","routes","sub_routes","api_url","window","hostname","MenuTab","props","items","setTabValue","icon","label","disabled","others","navigate","useNavigate","anchorEl","setAnchorEl","open","Boolean","Tab","iconPosition","id","onClick","e","currentTarget","undefined","Menu","onClose","TransitionComponent","Fade","map","item","MenuItem","sub_route","RDialog","title","message","confirmText","color","action","setOpen","justClose","divProps","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","error","console","autoFocus","stringAvatar","first_name","last_name","join","toUpperCase","AvatarMenu","useContext","location","useLocation","bg","pathname","split","openMenu","IconButton","variant","Avatar","sx","bgcolor","Typography","marginX","mb","email","Divider","ListItemIcon","Person","removeItem","Logout","NavMenu","Newspaper","key","route","Calculate","ViewList","Settings","is_admin","push","display","xs","sm","textAlign","ArrowForwardIos","Navbar","tabValue","count","setCount","path","includes","newPosts","length","AppBar","position","Toolbar","justifyContent","Tabs","visibility","indicatorColor","onChange","_","newValue","Badge","badgeContent","anchorOrigin","vertical","horizontal","component","Link","to","AuthenticatedContent","timeStamp","setTimeStamp","soundOptions","volume","parseFloat","useSound","beep","playBeep","useEffect","source","axios","CancelToken","checkForNewPosts","a","post","last_post","cancelToken","token","headers","Accept","Authorization","res","data","posts","warn","errCode","response","status","watcher","setInterval","clearInterval","cancel","refreshing","get","timer","refresh","nd","Date","diff","getFullYear","getMonth","getDate","log","setTimeout","clearTimeout","useAxios","method","uri","expected","suc","wrn","err","TCErr","put","delete","useAxiosEffect","daysAgo","today","date","delta","toFixed","PostPreview","post_props","newPost","newSeverity","Alarm","severity","Grid","Alert","style","fontFamily","fontSize","AlertTitle","className","mdStyle","remarkPlugins","remarkGfm","content","setDate","parseInt","days_offset","toLocaleDateString","Posts","filter","owner","setNewPost","contentFocus","handleMessage","stackRef","useRef","postToDelete","setPostToDelete","severity_filter","owner_filter","filteredPosts","_id","dividedPosts","getTime","last_day","forEach","$date","other_day","setHours","getHours","getTimezoneOffset","divider","md","Box","border","p","borderRadius","borderColor","height","Stack","spacing","pr","ref","paddingBlockEnd","overflow","element","Chip","canEdit","current","scrollTo","top","behavior","username","pub","is_public","CircularProgress","size","PostSelect","options","option","setOption","FormControl","fullWidth","Select","target","op","FullPanel","setSeverity","setOwner","setNewSeverity","setTo","contentRef","handleChange","handleSend","send_props","Paper","elevation","container","align","alignItems","TextField","name","inputRef","rows","multiline","type","inputProps","min","max","step","endIcon","Send","Filter","CreatePost","News","msg","vnt","setMessage","focus","getSeverity","getPublic","sender","d","creation","localeTimeOffset","Container","maxWidth","margin","pt","Snackbar","autoHideDuration","Complete","history","setHistory","first","second","third","fields","setFields","sign","setSign","operation","setOperation","expression","setExpression","firstRef","secondRef","expRef","handleQuery","url","to_set","Object","entries","field","calculation","footnote","result","navigator","clipboard","writeText","handleGetFirst","dataset","handleGetSecond","handleGetThird","handleEvaluate","handleEnterOnFields","minHeight","onKeyPress","width","RadioGroup","px","FormControlLabel","control","Radio","InputProps","startAdornment","InputAdornment","endAdornment","LooksOne","LooksTwo","Looks3","py","InputLabelProps","Basic","price","str_date","handleGetPrice","reverse","CalcHistory","registries","dividedRegistries","reg","backgroundColor","alignContent","tColor","Tooltip","placement","disableInteractive","arrow","followCursor","whiteSpace","Calculator","openSB","setOpenSB","basic","setBasic","labelPlacement","Switch","checked","strFormat","str","regexs","args","mut_str","pattern","replacement","replace","RegExp","match","index","CustomCell","TableCell","CreditCards","payMeths","sysRegex","priceRef","setPrice","paymentMethods","last_card","formatedPayMeths","meth","card_name","header","total","increase","monthly","installments","$oid","pos_code","description","TableContainer","Table","stickyHeader","TableHead","TableRow","TableBody","colSpan","hover","handleCopy","ContentCopy","AnswerButtons","commonAnswers","ownAnswers","ownRegex","commonStackRef","ownStackRef","text","setText","answerList","reduce","resObj","curObj","handleClickAnswer","focused","readOnly","Cancel","ans","i","reference","enterDelay","background","Answers","setPayMeths","setCommonAnswers","setOwnAnswers","setSysRegex","setOwnRegex","answers","payment_methods","common_answers","own_answers","sys_regex","own_regex","EditCreditCards","initialValue","newCard","setNewCard","selected","setSelected","setMethod","handleChangeMethod","handleAddCard","handleAddMethod","handleUpdateCardName","handleUpdateMethod","handleDropCard","handleDropMethod","Add","new_name","Done","Edit","Delete","EditAnswers","colors","initialAnswer","common","order","answer","setAnswer","edit","setEdit","handleChangeAnswer","queryHandlers","handleCreateAnswer","handleUpdateAnswer","handleDeleteAnswer","hex","Save","AnswersSettings","NewItem","dates","setDates","setHasChanged","initialNewOne","percent","increaseAll","newOne","setNewOne","upAll","setUpAll","handleChangeNewOne","addSuccessiveIncreases","inc","b","newPercent","pb","Checkbox","newDate","newDates","startIcon","ArrowUpward","Lists","lists","setLists","selectedList","setSelectedList","fetchList","list_name","list","is_sel","file_name","fileToSave","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","handleDownloadList","Download","new_list","handleDropList","Items","hasChanged","oneDate","setOneDate","handleChangeSelected","handleUpdateOne","dis","toString","handleDeleteOne","newLists","unshift","sort","CalculatorSettings","ExpressionsSettings","initialExpression","is_system","identifier","handleChangeExpression","handleClickExpression","exp","UserLogin","uName","setUName","uPass","setUPass","loginState","setLoginState","handleLogin","preventDefault","in","timeout","UpdateUserForm","password","new_password","confirm_new_password","userData","setUserData","handleChangeUser","samePassword","setSamePassword","handleSamePassword","updateState","setUpdateState","handleUpdateUser","resultUser","mx","columns","UserOptions","handleChangeSettings","handleSaveSettings","OtherUsersList","usersSate","setUsersState","initialOtherUser","setOtherUserData","usersData","setUsersData","otherUser","ListItem","secondaryAction","edge","ListItemButton","handleEditUser","ListItemText","primary","secondary","CreateUpdateOtherUser","otherUserData","handleChangeOtherUser","sameEmail","setSameEmail","handleSameEmail","pl","UserAccount","confirm_email","displayAdmin","displayNoAdmin","mt","App","theme","paperLightBG","lightBG","createTheme","palette","mode","cyan","deepOrange","info","deepPurple","typography","globalFontSize","ThemeProvider","CssBaseline","enableColorScheme","square","Calculators","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e441b27a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mdStyle\":\"markdownStyle_mdStyle__38Iau\"};","import { useState } from 'react';\n\nconst useUser = () => {\n  \n  const getUser = () => {\n    const userString = localStorage.getItem('user');\n    const userObj = JSON.parse(userString);\n    return userObj\n  };\n\n  const [user, setUser] = useState(getUser());\n\n  const saveUser = user => {\n    localStorage.setItem('user', JSON.stringify(user));\n    setUser(user);\n  };\n\n  return [\n    user,\n    saveUser\n  ]\n}\n\nexport default useUser;","import { useState } from 'react';\n\nconst useSettings = () => {\n\n  const defaultSettings = {\n    theme_mode: 'dark',\n    calculator: true,\n    postsFontFamily: 'Helvetica',\n    notifVol: 0.1\n  }\n  \n  const getSettings = () => {\n    const settingsStr = localStorage.getItem('settings');\n    const settingsObj = {...defaultSettings, ...JSON.parse(settingsStr)};\n    return settingsObj\n  };\n\n  const [settings, setSettings] = useState(getSettings());\n\n  const saveSettings = settings => {\n    localStorage.setItem('settings', JSON.stringify(settings));\n    setSettings(settings);\n  };\n\n  return [\n    settings,\n    saveSettings\n  ]\n}\n\nexport default useSettings;","import { useMemo, createContext, useState } from \"react\"\nimport useUser from './useUser'\nimport useSettings from \"./useSettings\"\n\n// 1. Create and export contexts\nexport const UserContext = createContext(\n  { user: '', setUser: () => { } })\nexport const AuthContext = createContext(\n  { auth: '', setAuth: () => { } })\nexport const PostContext = createContext(\n  { fetchedPosts: [], setFetchedPosts: () => { } })\nexport const UserSettingsContext = createContext(\n  { userSettings: '', setUserSettings: () => { } })\n// -----------------------------\n\nconst GlobalContext = ({ children }) => {\n\n  // 2. Packing the value and setter function\n  const [user, setUser] = useUser()\n  const userValue = useMemo(\n    () => ({ user, setUser }),\n    [user, setUser]\n  )\n  const [auth, setAuth] = useState(false)\n  const authValue = useMemo(\n    () => ({ auth, setAuth }),\n    [auth, setAuth]\n  )\n  const [fetchedPosts, setFetchedPosts] = useState([])\n  const postsValue = useMemo(\n    () => ({ fetchedPosts, setFetchedPosts }),\n    [fetchedPosts, setFetchedPosts]\n  )\n  const [userSettings, setUserSettings] = useSettings()\n  const userSettingsValue = useMemo(\n    () => ({ userSettings, setUserSettings }),\n    [userSettings, setUserSettings]\n  )\n  // ----------------------------------------\n\n  return (\n\n    // 3. Provide the contexts\n    <UserContext.Provider value={userValue}>\n      <AuthContext.Provider value={authValue}>\n        <PostContext.Provider value={postsValue}>\n          <UserSettingsContext.Provider value={userSettingsValue}>\n            {children}\n          </UserSettingsContext.Provider>\n        </PostContext.Provider>\n      </AuthContext.Provider>\n    </UserContext.Provider>\n    // -----------------------\n  )\n}\n\nexport default GlobalContext","// Do not change the order of \"routes\" and \"sub_routes\", \n// append new ones (to the tail) to make the app grow.\nexport const routes = [\n  '/news',\n  '/calculators',\n  '/answers',\n  '/settings',\n]\n\nexport const sub_routes = [\n  'answers',\n  'calculator',\n  'expressions'\n]\n\nconst host = {\n  development: 'http://localhost:5000/',\n  production: window.hostname\n}[process.env.NODE_ENV]\n\nconst api_root = '/api-v1'\n\nexport const api_url = host + api_root","import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { Tab, Menu, MenuItem, Fade } from '@mui/material'\n\nconst MenuTab = (props) => {\n\n  const { value, items, setTabValue, icon, label, disabled, ...others } = props\n\n  const navigate = useNavigate()\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const open = Boolean(anchorEl)\n\n  const justClose = () => {\n    setAnchorEl(null)\n  }\n\n  const handleClick = (e) => {\n    setAnchorEl(e.currentTarget)\n  }\n\n  const handleClose = (sub_route) => {\n    setAnchorEl(null)\n    navigate(`${value}/${sub_route}`)\n    setTabValue(value)\n  }\n\n  return (\n    <>\n      <Tab label={label} {...others}\n        icon={icon} iconPosition='start'\n        id='id_menu'\n        aria-controls=\"aria_menu\"\n        onClick={handleClick}\n        aria-haspopup=\"true\"\n        aria-expanded={open ? 'true' : undefined} disabled={disabled} />\n      <Menu\n        id=\"aria_menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={justClose}\n        TransitionComponent={Fade}>\n        {items.map((item) => {\n          return (\n            <MenuItem\n              onClick={() => { handleClose(item.sub_route) }} key={item.label}>\n              {item.label}\n            </MenuItem>\n          )\n        })}\n      </Menu>\n    </>\n  )\n\n}\n\nexport default MenuTab;","import { useState } from 'react'\nimport {\n  Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button\n} from '@mui/material'\n\nconst RDialog = (props) => {\n\n  const {\n    title = 'add <title> prop', message = 'add <message> prop',\n    confirmText = 'add <confirmText> prop', color = 'error', disabled = false,\n    action, children, ...others\n  } = props\n\n  const [open, setOpen] = useState(false)\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = (e) => {\n    setOpen(false)\n    try {\n      action(e)\n    }\n    catch (error) {\n      console.error(`add <action> prop, or: ${error}`)\n    }\n  }\n\n  const justClose = () => {\n    setOpen(false)\n  }\n\n  const divProps = !disabled ? {\n    onClick: handleOpen\n  } : {}\n\n  return (\n    <>\n      <div {...divProps}>\n        {children}\n      </div>\n      <Dialog {...others}\n        open={open}\n        onClose={justClose}\n        aria-labelledby=\"title\"\n        aria-describedby=\"description\"\n      >\n        <DialogTitle id=\"title\">\n          {title}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"description\">\n            {message}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={justClose}>\n            Cancel </Button>\n          <Button onClick={handleClose} color={color} autoFocus>\n            {confirmText} </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n\nexport default RDialog","import { useState, useContext } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport {\n  IconButton, Avatar, Menu, MenuItem, Typography, Divider, Fade, ListItemIcon\n} from '@mui/material'\nimport { PersonOff as AvIcon, Person, Logout } from '@mui/icons-material'\n\nimport { UserContext, AuthContext } from './tools/contexts'\nimport RDialog from './tools/ReusableDialog'\n\nconst stringAvatar = (user, auth) => {\n\n  if (user && auth) {\n    return [user.first_name[0], user.last_name[0]].join('').toUpperCase()\n  }\n  return <AvIcon />\n}\n\nconst AvatarMenu = props => {\n\n  const { user, setUser } = useContext(UserContext)\n  const { auth, setAuth } = useContext(AuthContext)\n  const { setTabValue, disabled, ...others } = props\n  const location = useLocation()\n  const navigate = useNavigate()\n\n  let bg = location.pathname.split('/')[1] === 'account' ?\n    'secondary.main' :\n    'primary.main'\n\n  if (disabled) { bg = 'default' }\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const openMenu = Boolean(anchorEl)\n\n  const justClose = () => {\n    setAnchorEl(null)\n  }\n\n  const handleClick = e => {\n    setAnchorEl(e.currentTarget)\n  }\n\n  const handleOptions = () => {\n    setAnchorEl(null)\n    setTabValue(false)\n    navigate('/account')\n  }\n\n  const handleLogout = () => {\n    setAnchorEl(null)\n    setUser(null)\n    setAuth(false)\n    localStorage.removeItem('user')\n    localStorage.removeItem('settings')\n  }\n\n  return (\n    <>\n      <IconButton variant='outlined' {...others}\n        id='id_menu'\n        aria-controls=\"aria_menu\"\n        onClick={handleClick}\n        aria-haspopup=\"true\"\n        aria-expanded={openMenu ? 'true' : undefined}\n        color='secondary'\n        disabled={disabled} >\n\n        <Avatar sx={{ bgcolor: bg }} children={stringAvatar(user, auth)} />\n\n      </IconButton>\n\n      <Menu\n        id=\"aria_menu\"\n        anchorEl={anchorEl}\n        open={openMenu}\n        onClose={justClose}\n        TransitionComponent={Fade} >\n        <Typography variant='overline' color='secondary' marginX={2} mb={1} >\n          {[user?.first_name, user?.last_name].join(' ')}\n        </Typography>\n        <Typography variant='subtitle1' color='GrayText' marginX={2} mb={1} >\n          {user?.email}\n        </Typography>\n        <Divider />\n        <MenuItem onClick={handleOptions}>\n          <ListItemIcon>\n            <Person />\n          </ListItemIcon>\n          Options\n        </MenuItem>\n        <RDialog\n          title='LOGOUT' message='Confirm logout?'\n          confirmText='Logout' action={handleLogout}\n        >\n          <MenuItem>\n            <ListItemIcon>\n              <Logout />\n            </ListItemIcon>\n            Logout\n          </MenuItem>\n        </RDialog>\n      </Menu>\n\n\n    </>\n  )\n}\n\nexport default AvatarMenu;","import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport {\n  IconButton, Menu, MenuItem, Fade, Divider, ListItemIcon\n} from '@mui/material'\nimport {\n  Newspaper, Calculate, ViewList, Settings, ArrowForwardIos\n} from '@mui/icons-material'\nimport { Menu as MI } from '@mui/icons-material'\n\nimport { routes, sub_routes } from './tools/routes'\n\n\nconst NavMenu = props => {\n\n  const { setTabValue, disabled, user, ...others } = props\n\n  const items = [\n    { label: 'DIVIDER', icon: Newspaper, key: 0 },\n    { label: 'News', route: routes[0] },\n    { label: 'DIVIDER', icon: Calculate, key: 1 },\n    { label: 'Calculators', route: `${routes[1]}` },\n    { label: 'DIVIDER', icon: ViewList, key: 2 },\n    { label: 'Answers', route: routes[2] },\n    { label: 'DIVIDER', icon: Settings, key: 3 },\n    { label: 'Answers Settings', route: `${routes[3]}/${sub_routes[0]}` }\n  ]\n  if (user?.is_admin) {\n    items.push(\n      { label: 'Calculator Settings', route: `${routes[3]}/${sub_routes[1]}` }\n    )\n  }\n  items.push(\n    { label: 'Expressions Settings', route: `${routes[3]}/${sub_routes[2]}` }\n  )\n\n  const navigate = useNavigate()\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const open = Boolean(anchorEl)\n\n  const justClose = () => {\n    setAnchorEl(null)\n  }\n\n  const handleClick = (e) => {\n    setAnchorEl(e.currentTarget)\n  }\n\n  const handleClose = (route) => {\n    setAnchorEl(null)\n    navigate(route)\n    setTabValue(`/${route.split('/')[1]}`)\n  }\n\n  return (\n    <>\n      <IconButton aria-label=\"Go to...\" onClick={handleClick} {...others}\n        sx={{ display: { xs: 'inline-flex', sm: 'none' } }}\n        disabled={disabled}\n      >\n        <MI />\n      </IconButton>\n      <Menu\n        id=\"aria_menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={justClose}\n        TransitionComponent={Fade}>\n        {items.map((item) => {\n          if (item.label === 'DIVIDER') {\n            return (\n              <Divider key={item.key} textAlign='right'>\n                {<item.icon />}\n              </Divider>\n            )\n          } else {\n            return (\n              <MenuItem\n                onClick={() => { handleClose(item.route) }} key={item.label}>\n                <ListItemIcon>\n                  <ArrowForwardIos />\n                </ListItemIcon>\n                {item.label}\n              </MenuItem>\n            )\n          }\n        })}\n      </Menu>\n    </>\n  )\n}\n\nexport default NavMenu;","import { useState, useContext, useMemo } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { AppBar, Toolbar, Tabs, Tab, Badge } from '@mui/material'\nimport { Newspaper, Calculate, ViewList, Settings } from '@mui/icons-material'\n\nimport { routes, sub_routes } from './tools/routes'\nimport { AuthContext, UserContext, PostContext } from './tools/contexts'\nimport MenuTab from './MenuTab'\nimport AvatarMenu from './AvatarMenu'\nimport NavMenu from './NavMenu'\n\n\n\nconst Navbar = () => {\n\n  const { auth } = useContext(AuthContext)\n  const { user } = useContext(UserContext)\n  const { fetchedPosts } = useContext(PostContext)\n  const disabled = !Boolean(auth)\n\n  const location = useLocation()\n\n  const [tabValue, setTabValue] = useState(false)\n  const [count, setCount] = useState(0)\n\n  useMemo(() => {\n    const path = `/${location.pathname.split('/')[1]}`\n    setTabValue(routes.includes(path) ? path : false)\n  }, [location])\n\n  const handleChange = (_, newValue) => {\n    switch (newValue) {\n      case routes[0]:\n      case routes[1]:\n      case routes[2]:\n        setTabValue(newValue)\n        break;\n      default:\n        break;\n    }\n  }\n\n  const newPosts = useMemo(() => {\n\n    const length = fetchedPosts.length\n    if (tabValue === routes[0]) {\n      setCount(length)\n    }\n\n    const result = count === 0 ? '!' : length - count\n\n    return result\n  }, [fetchedPosts.length, count, tabValue])\n\n  const items = [\n    { label: 'Answers Settings', sub_route: sub_routes[0] }\n  ]\n  if (user?.is_admin) {\n    items.push(\n      { label: 'Calculator Settings', sub_route: sub_routes[1] }\n    )\n  }\n  items.push({ label: 'Expressions Settings', sub_route: sub_routes[2] })\n\n  return (\n    <>\n      <AppBar position='sticky' color='default'>\n        <Toolbar variant='dense' sx={{ justifyContent: 'space-between' }}>\n\n          <NavMenu setTabValue={setTabValue} disabled={disabled}\n            user={user}\n          />\n\n          <Tabs \n            sx={{visibility: { xs: 'hidden', sm: 'visible' } }}\n            indicatorColor='primary'\n            onChange={handleChange}\n            value={tabValue}\n          >\n\n            <Tab value={routes[0]} label='News'\n              icon={\n                <Badge color='error' badgeContent={newPosts}\n                  anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n                >\n                  <Newspaper />\n                </Badge>\n              } iconPosition='start'\n              component={Link} to={routes[0]} disabled={disabled} />\n\n            <Tab value={routes[1]} label='Calculators'\n              icon={<Calculate />} iconPosition='start'\n              component={Link} to={routes[1]} disabled={disabled} />\n\n            <Tab value={routes[2]} label='Answers'\n              icon={<ViewList />} iconPosition='start'\n              component={Link} to={routes[2]} disabled={disabled} />\n\n            <MenuTab value={routes[3]}\n              label='Settings' icon={<Settings />}\n              setTabValue={setTabValue} items={items} disabled={disabled} />\n\n          </Tabs>\n\n          <AvatarMenu setTabValue={setTabValue} disabled={disabled} />\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n}\n\nexport default Navbar;\n","export default __webpack_public_path__ + \"static/media/beep.6fea501e.mp3\";","import { useContext, useEffect, useState, useMemo } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport axios from 'axios'\nimport useSound from 'use-sound'\n\nimport { api_url } from './tools/routes'\nimport { PostContext, UserSettingsContext } from './tools/contexts'\nimport beep from './tools/beep.mp3'\n\nconst AuthenticatedContent = (props) => {\n\n  const { children, setAuth, user, setUser } = props\n\n  const { fetchedPosts, setFetchedPosts } = useContext(PostContext)\n  const { userSettings } = useContext(UserSettingsContext)\n  const [timeStamp, setTimeStamp] = useState(null)\n  const navigate = useNavigate()\n  const soundOptions = useMemo(() => {\n    return { volume: parseFloat(userSettings.notifVol) }\n  }, [userSettings])\n  const [playBeep] = useSound(beep, soundOptions)\n\n  useEffect(() => {\n    const source = axios.CancelToken.source()\n    const checkForNewPosts = async () => {\n      try {\n        const res = await axios.post(\n          api_url + '/news/fetch-posts',\n          { last_post: timeStamp },\n          {\n            cancelToken: source.token,\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user?.token}`\n            }\n          }\n        )\n        if (res.data['newest_post']) {\n          if (\n            timeStamp !== null && res.data.posts.length > fetchedPosts.length\n          ) {\n            playBeep()\n          }\n          setTimeStamp(res.data['newest_post'])\n          setFetchedPosts(res.data['posts'])\n        } else if (res.data['wrn']) {\n          console.warn(res.data['wrn'])\n        } else if (res.data['err']) {\n          setAuth(false)\n          console.error(res.data['err'])\n        }\n      }\n      catch (error) {\n        const errCode = error.response?.status\n        if (errCode === 422 || errCode === 401) {\n          navigate('/login')\n          setUser(null)\n          setAuth(false)\n          localStorage.removeItem('user')\n        }\n      }\n    }\n    if (user) {\n      checkForNewPosts()\n    }\n    const watcher = setInterval(() => {\n      if (user?.token) {\n        checkForNewPosts()\n      }\n    }, 3000)\n    return () => {\n      clearInterval(watcher)\n      source.cancel('Leaving News page or the data is already loaded')\n    }\n    // eslint-disable-next-line\n  }, [user, timeStamp, fetchedPosts.length])\n\n  useEffect(() => {\n    const source = axios.CancelToken.source()\n    const refreshing = setInterval(() => {\n      if (user?.token) {\n        (async () => {\n          try {\n            const res = await axios.get(\n              api_url + '/users/refresh-auth',\n              {\n                cancelToken: source.token,\n                headers: {\n                  Accept: '*/*',\n                  Authorization: `Bearer ${user.token}`\n                }\n              }\n            )\n            if (res.data['user']) {\n              setUser(res.data.user)\n            }\n          }\n          catch (error) {\n            console.error(error)\n          }\n        })()\n      }\n    }, 60 * 60 * 1000)\n    return () => {\n      clearInterval(refreshing)\n      source.cancel('Abort refresh token')\n    }\n  }, [user, setUser])\n\n  useEffect(() => {\n\n    let timer = null\n\n    const refresh = () => {\n      const nd = new Date()\n      let diff = new Date(\n        nd.getFullYear(), nd.getMonth(), nd.getDate(), 10, 30\n      ) - new Date()\n      if (diff < 0) {\n        diff = new Date(\n          nd.getFullYear(), nd.getMonth(), nd.getDate() + 1, 10, 30\n        ) - new Date()\n      }\n      setTimeStamp('')\n      console.log('what do we have for today?')\n\n      timer = setTimeout(refresh, diff)\n    }\n    refresh()\n\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [])\n\n  return children\n}\n\nexport default AuthenticatedContent","import { useContext, useEffect } from 'react'\nimport axios from 'axios'\n\nimport { UserContext } from './contexts'\nimport { api_url } from './routes'\n\nexport const useAxios = (\n  method, uri, expected, suc, wrn, err,\n  TCErr = (e) => { console.error(e) }\n) => {\n\n  const { user } = useContext(UserContext)\n  const headers = {\n    Accept: '*/*',\n    Authorization: `Bearer ${user?.token}`\n  }\n\n  return async (data) => {\n    try {\n      let res\n      switch (method) {\n        default:\n          res = await axios.get(\n            api_url + uri, { headers: headers }\n          )\n          break\n        case 'post':\n          res = await axios.post(\n            api_url + uri, data, { headers: headers }\n          )\n          break\n        case 'put':\n          res = await axios.put(\n            api_url + uri, data, { headers: headers }\n          )\n          break\n        case 'delete':\n          res = await axios.delete(\n            api_url + uri, { headers: headers, data: data }\n          )\n          break\n      }\n      if (res.data[expected]) {\n        suc(res.data)\n      }\n      if (res.data['wrn']) {\n        wrn(res.data)\n      }\n      if (res.data['err']) {\n        err(res.data)\n      }\n    }\n    catch (error) {\n      TCErr(error)\n    }\n  }\n}\n\nexport const useAxiosEffect = (\n  uri, expected, suc, wrn, err,\n  TCErr = (e) => { console.error(e) }\n) => {\n\n  const { user } = useContext(UserContext)\n  useEffect(() => {\n    const headers = {\n      Accept: '*/*',\n      Authorization: `Bearer ${user?.token}`\n    }\n    const source = axios.CancelToken.source();\n    (async () => {\n      try {\n        const res = await axios.get(\n          api_url + uri, { cancelToken: source.token, headers: headers }\n        )\n        if (res.data[expected]) {\n          suc(res.data)\n        }\n        if (res.data['wrn']) {\n          wrn(res.data)\n        }\n        if (res.data['err']) {\n          err(res.data)\n        }\n      }\n      catch (error) {\n        TCErr(error)\n      }\n    })()\n    return () => {\n      source.cancel('useAxios: canceled')\n    }\n    // eslint-disable-next-line\n  }, [user])\n}","const daysAgo = (today, date) => {\n    const delta = ((today - date) / (1000 * 3600 * 24)).toFixed()\n    let label\n    switch (delta) {\n        case '0':\n        case '-0':\n            label = 'Today'\n            break\n        case '1':\n            label = 'Yesterday'\n            break\n        default:\n            label = `${delta} days ago`\n            break\n    }\n    return label\n}\n\nexport default daysAgo","import { useContext, useState, useMemo, useRef } from 'react'\nimport {\n  Grid, Box, Alert, AlertTitle, Divider, Chip, Stack, Typography, Button,\n  Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText,\n  CircularProgress\n} from '@mui/material';\nimport { Alarm } from '@mui/icons-material'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\nimport axios from 'axios'\n\nimport {\n  PostContext, UserContext, UserSettingsContext\n} from '../tools/contexts'\nimport { api_url } from '../tools/routes'\nimport daysAgo from '../tools/daysAgo'\n\nimport style from './markdownStyle.module.css'\n\n\nconst PostPreview = (props) => {\n\n  const { newPost, newSeverity, to, userSettings } = props\n\n  let post_props\n  switch (newSeverity) {\n    case 'Reminder':\n      post_props = {\n        icon: <Alarm />, severity: 'success'\n      }\n      break\n    case 'Normal':\n      post_props = { severity: 'warning' }\n      break\n    case 'Urgent':\n      post_props = { severity: 'error' }\n      break\n    default:\n      post_props = {}\n      break\n  }\n\n  const date = () => {\n    return new Date(\n      new Date().setDate(\n        new Date().getDate() + (parseInt(newPost.days_offset) || 0)\n      )\n    ).toLocaleDateString()\n  }\n\n  return (\n    < Grid item>\n      <Alert variant='outlined' {...post_props}\n        style={{\n          fontFamily: `${userSettings.postsFontFamily}, Helvetica`\n          , fontSize: '1em'\n        }}\n      >\n        <AlertTitle>\n          <Typography variant='h5'>\n            {newPost.title} (Preview)\n          </Typography>\n        </AlertTitle>\n        <ReactMarkdown className={style.mdStyle}\n          remarkPlugins={[remarkGfm]} children={\n            `${newPost.content}\\n\\n*Own ${to}* | *${date()}*`\n          }\n        />\n      </Alert>\n    </Grid >\n  )\n}\n\nconst Posts = (props) => {\n\n\n  const {\n    filter: { severity, owner },\n    newPost, setNewPost, newSeverity, to, contentFocus, handleMessage\n  } = props\n  const stackRef = useRef(null)\n  const { fetchedPosts } = useContext(PostContext)\n  const { user } = useContext(UserContext)\n  const { userSettings } = useContext(UserSettingsContext)\n  const [postToDelete, setPostToDelete] = useState('')\n\n  const goUp = () => {\n    stackRef.current.scrollTo({ top: 0, behavior: 'smooth' })\n    contentFocus()\n  }\n\n  const posts = useMemo(() => {\n    if (fetchedPosts.length > 0) {\n      let severity_filter\n      switch (severity) {\n        case 'Reminder':\n          severity_filter = 'rem'\n          break\n        case 'Normal':\n          severity_filter = 'nor'\n          break\n        case 'Urgent':\n          severity_filter = 'urg'\n          break\n        default:\n          severity_filter = null\n          break\n      }\n      const owner_filter = owner === 'from All' ? null : user?.email\n\n      let filteredPosts = fetchedPosts.filter(post =>\n        (severity_filter ? post.severity === severity_filter : true)\n        && (owner_filter ? post.owner._id === owner_filter : true)\n      )\n\n      const dividedPosts = []\n      const today = new Date().getTime()\n      let last_day = today\n\n      if (filteredPosts.length > 0) {\n        filteredPosts.forEach(post => {\n          const date = new Date(post._id.$date)\n          const other_day = daysAgo(\n            today,\n            new Date(\n              date.setHours(date.getHours() + date.getTimezoneOffset() / 60)\n            )\n          )\n          if (last_day !== other_day) {\n            dividedPosts.push({ divider: other_day })\n            last_day = other_day\n          }\n          dividedPosts.push(post)\n        })\n      } else {\n        dividedPosts.push(\n          { divider: 'There are no posts with those conditions' }\n        )\n      }\n\n      return dividedPosts\n    }\n  }, [fetchedPosts, severity, owner, user])\n\n  const handleDelete = (post) => {\n    (async () => {\n      const res = await axios.delete(\n        api_url + '/news/delete-post',\n        {\n          headers: {\n            Accept: '*/*',\n            Authorization: `Bearer ${user?.token}`\n          },\n          data: post\n        }\n      )\n      if (res.data['msg']) {\n        handleMessage(res.data['msg'], 'info')\n      }\n      if (res.data['wrn']) {\n        handleMessage(res.data['wrn'], 'warning')\n      }\n      if (res.data['err']) {\n        handleMessage(res.data['err'], 'error')\n      }\n    })()\n    setPostToDelete('')\n  }\n\n  const justClose = () => {\n    setPostToDelete('')\n  }\n\n  return (\n    <>\n      <Grid item xs={12} md={7}>\n        <Box border={2} p={2} borderRadius={1} borderColor='primary.main'\n          sx={{ height: '80vh' }}\n        >\n          <Stack spacing={1} pr={1} ref={stackRef}\n            sx={{ paddingBlockEnd: 2, height: '75vh', overflow: 'auto' }}\n          >\n            {(newPost.title || newPost.content) &&\n              <PostPreview\n                newPost={newPost}\n                newSeverity={newSeverity}\n                to={to}\n                userSettings={userSettings}\n              />\n            }\n            {posts?.length > 0 ? posts?.map(element => {\n              let component\n              if (element.divider) {\n                component = (\n                  <Grid item key={element.divider}>\n                    <Divider>\n                      <Chip color='primary' label={element.divider} />\n                    </Divider>\n                  </Grid>\n                )\n              }\n              if (element._id) {\n                let post_props\n                switch (element.severity) {\n                  case 'rem':\n                    post_props = {\n                      icon: <Alarm />, severity: 'success'\n                    }\n                    break\n                  case 'nor':\n                    post_props = { severity: 'warning' }\n                    break\n                  case 'urg':\n                    post_props = { severity: 'error' }\n                    break\n                  default:\n                    post_props = {}\n                    break\n                }\n                let canEdit = {}\n                if (user?.is_admin || element.owner._id === user?.email) {\n                  post_props = {\n                    ...post_props,\n                    onClose: () => { setPostToDelete(element._id) }\n                  }\n                  canEdit = {\n                    onClick: () => {\n                      setNewPost({\n                        title: '', content: element.content, days_offset: ''\n                      })\n                      goUp()\n                    }\n                  }\n                }\n                const content = element.content\n                const owner = `**${element.owner.username}**`\n                const pub = element.is_public ? 'to **All**' : 'just for **Me**'\n                const date = new Date(element._id.$date).toLocaleDateString()\n                component = (\n                  <Grid item key={element._id['$date']}>\n                    <Alert variant='filled' {...post_props}\n                      style={{\n                        fontFamily: `${userSettings.postsFontFamily}, Helvetica`\n                        , fontSize: '1em'\n                      }}\n                    >\n                      <AlertTitle>\n                        <Typography variant='h5'>\n                          {element.title}\n                        </Typography>\n                      </AlertTitle>\n                      <div {...canEdit}>\n                        <ReactMarkdown className={style.mdStyle}\n                          remarkPlugins={[remarkGfm]} children={\n                            `${content}\\n\\n*${owner} ${pub}* | *${date}*`\n                          }\n                        />\n                      </div>\n                    </Alert>\n                  </Grid>\n                )\n              }\n              return component\n            }) :\n              <Typography variant='h4' color='secondary'>\n                L<CircularProgress size={17} color='secondary' />ading ...\n              </Typography>\n            }\n          </Stack>\n        </Box>\n      </Grid >\n      <Dialog\n        open={Boolean(postToDelete)}\n        onClose={justClose}\n        aria-labelledby=\"title\"\n        aria-describedby=\"description\"\n      >\n        <DialogTitle id=\"title\">\n          Delete\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"description\">\n            Confirm delete post?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={justClose}>\n            Cancel </Button>\n          <Button\n            onClick={() => handleDelete(postToDelete)} color='error' autoFocus\n          >\n            DELETE </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n\nexport default Posts","import { FormControl, Select, MenuItem } from '@mui/material'\n\n\nconst PostSelect = (props) => {\n\n  const { options, option, setOption, ...others } = props\n\n  const handleChange = (e) => {\n    setOption(e.target.value)\n  }\n\n  return (\n    <FormControl fullWidth {...others}>\n      <Select size='small' value={option} onChange={handleChange}>\n        {options.map(op => {\n          return <MenuItem key={op} value={op}>{op}</MenuItem>\n        })}\n      </Select>\n    </FormControl>\n  )\n}\n\nexport default PostSelect","import {\n  Typography, Grid, Box, Divider, TextField, Button, Paper\n} from '@mui/material';\nimport { Send } from '@mui/icons-material'\nimport PostSelect from './PostSelect'\n\nconst FullPanel = (props) => {\n\n  const {\n    filter: { severity, setSeverity, owner, setOwner },\n    newPost, newSeverity, setNewSeverity, to, setTo, contentRef,\n    handleChange, handleSend, send_props\n  } = props\n\n  return (\n    <Grid item xs={12} md={5}>\n      <Paper elevation={3}>\n        <Box sx={{ paddingBlockEnd: 2, height: '80vh' }}\n          border={2} p={2} borderRadius={1} borderColor='secondary.main'\n        >\n          <Grid container spacing={1} align='center' pr={2} alignItems='center'\n            sx={{ height: '75vh', overflow: 'auto' }}\n          >\n            <Grid item xs={6}>\n              <PostSelect\n                options={['All', 'Urgent', 'Normal', 'Reminder']}\n                option={severity}\n                setOption={setSeverity}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <PostSelect\n                options={['from All', 'Mine only']}\n                option={owner}\n                setOption={setOwner}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Divider>\n                <Typography color='secondary'>CREATE NEW POST</Typography>\n              </Divider>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField fullWidth size='small' label='TITLE'\n                name='title'\n                value={newPost.title}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField \n                inputRef={contentRef}\n                fullWidth rows={12} multiline size='small' \n                label='CONTENT (Markdown Supported)'\n                name='content'\n                value={newPost.content}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={7} md={3}>\n              <PostSelect\n                options={['Urgent', 'Normal', 'Reminder']}\n                option={newSeverity}\n                setOption={setNewSeverity}\n              />\n            </Grid>\n            <Grid item xs={5} md={3}>\n              <PostSelect\n                options={['to Me', 'to All']}\n                option={to}\n                setOption={setTo}\n              />\n            </Grid>\n            <Grid item xs={7} md={3}>\n              <TextField fullWidth label='within days' size='small'\n                name='days_offset'\n                type='number'\n                inputProps={{ min: '0', max: '7', step: '1' }}\n                value={newPost.days_offset}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={5} md={3}>\n              <Button variant='contained' fullWidth size='small'\n                onClick={handleSend} {...send_props} endIcon={<Send />}\n              >\n                <Typography variant='h6'>\n                  Send\n                </Typography>\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default FullPanel","import { Grid, Box, Paper } from '@mui/material';\nimport PostSelect from './PostSelect'\n\nconst Filter = (props) => {\n\n  const { filter: { severity, setSeverity, owner, setOwner } } = props\n\n  return (\n    <Grid item xs={12} md={5}>\n      <Paper elevation={3}>\n        <Box sx={{ paddingBlockEnd: 2 }}\n          border={2} p={2} borderRadius={1} borderColor='secondary.main'\n        >\n          <Grid container spacing={1} align='center' pr={2} alignItems='center'>\n            <Grid item xs={6}>\n              <PostSelect\n                options={['All', 'Urgent', 'Normal', 'Reminder']}\n                option={severity}\n                setOption={setSeverity}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <PostSelect\n                options={['from All', 'Mine only']}\n                option={owner}\n                setOption={setOwner}\n              />\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Filter","import {\n  Typography, Grid, Box, Divider, TextField, Button, Paper\n} from '@mui/material';\nimport { Send } from '@mui/icons-material'\nimport PostSelect from './PostSelect'\n\nconst CreatePost = (props) => {\n\n  const { \n    newPost, newSeverity, setNewSeverity, to, setTo,\n    handleChange, handleSend, send_props \n  } = props\n\n  return (\n    <Grid item xs={12} md={5}>\n      <Paper elevation={3}>\n        <Box sx={{ paddingBlockEnd: 2, height: '60vh' }}\n          border={2} p={2} borderRadius={1} borderColor='secondary.main'\n        >\n          <Grid container spacing={1} align='center' pr={2} alignItems='center'\n            sx={{ height: '55vh', overflow: 'auto' }}\n          >\n            <Grid item xs={12}>\n              <Divider>\n                <Typography color='secondary'>CREATE NEW POST</Typography>\n              </Divider>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField fullWidth size='small' label='TITLE'\n                name='title'\n                value={newPost.title}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth rows={8} multiline size='small'\n                label='CONTENT (Markdown Supported)'\n                name='content'\n                value={newPost.content}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={7} md={3}>\n              <PostSelect\n                options={['Urgent', 'Normal', 'Reminder']}\n                option={newSeverity}\n                setOption={setNewSeverity}\n              />\n            </Grid>\n            <Grid item xs={5} md={3}>\n              <PostSelect\n                options={['to Me', 'to All']}\n                option={to}\n                setOption={setTo}\n              />\n            </Grid>\n            <Grid item xs={7} md={3}>\n              <TextField fullWidth label='within days' size='small'\n                name='days_offset'\n                type='number'\n                inputProps={{ min: '0', max: '7', step: '1' }}\n                value={newPost.days_offset}\n                onChange={handleChange}\n              />\n            </Grid>\n            <Grid item xs={5} md={3}>\n              <Button variant='contained' fullWidth size='small'\n                onClick={handleSend} {...send_props} endIcon={<Send />}\n              >\n                <Typography variant='h6'>\n                  Send\n                </Typography>\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default CreatePost","import { useState, useRef } from 'react'\nimport { Container, Grid, Snackbar, Alert } from '@mui/material';\n\nimport { useAxios } from '../tools/axiosTool'\n\nimport Posts from './Posts'\nimport FullPanel from './FullPanel'\nimport Filter from './Filter'\nimport CreatePost from './CreatePost'\n\nconst News = () => {\n\n  const contentRef = useRef(null)\n  const [severity, setSeverity] = useState('All')\n  const [owner, setOwner] = useState('from All')\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [open, setOpen] = useState(false)\n  const [newPost, setNewPost] = useState({\n    title: '', content: '', days_offset: ''\n  })\n  const [newSeverity, setNewSeverity] = useState('Normal')\n  const [to, setTo] = useState('to Me')\n\n  const contentFocus = () => {\n    contentRef.current.focus()\n  }\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setNewPost({ ...newPost, [name]: value })\n  }\n\n  const getSeverity = () => {\n    switch (newSeverity) {\n      case 'Reminder':\n        return 'rem'\n      default:\n      case 'Normal':\n        return 'nor'\n      case 'Urgent':\n        return 'urg'\n    }\n  }\n\n  const getPublic = () => {\n    switch (to) {\n      default:\n      case 'to Me':\n        return false\n      case 'to All':\n        return true\n    }\n  }\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt })\n    setOpen(true)\n  }\n\n  const sender = useAxios(\n    'post', '/news/create-post', 'msg',\n    (d) => {\n      handleMessage(d.msg, 'success')\n      setNewPost({ title: '', content: '', days_offset: '' })\n      setNewSeverity('Normal')\n      setTo('to Me')\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleSend = () => {\n\n    if (!newPost.title) {\n      handleMessage('You must provide a Title', 'error')\n      return\n    }\n    if (!newPost.content) {\n      handleMessage('You must provide a Content', 'error')\n      return\n    }\n    const days_offset = parseInt((newPost.days_offset || 0))\n    if (0 > days_offset || 7 < days_offset) {\n      handleMessage('\"within days\" must be between 0 and 7', 'error')\n      return\n    }\n\n    sender({\n      title: newPost.title,\n      content: newPost.content,\n      severity: getSeverity(),\n      days_offset: days_offset,\n      is_public: getPublic(),\n      localeTimeOffset: new Date().getTimezoneOffset() / 60\n    })\n  }\n\n  let send_props\n  switch (newSeverity) {\n    case 'Reminder':\n      send_props = { color: 'success' }\n      break\n    case 'Normal':\n      send_props = { color: 'warning' }\n      break\n    case 'Urgent':\n      send_props = { color: 'error' }\n      break\n    default:\n      send_props = {}\n      break\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const filter = {\n    severity: severity,\n    setSeverity: setSeverity,\n    owner: owner,\n    setOwner: setOwner\n  }\n\n  const creation = {\n    newPost: newPost,\n    newSeverity: newSeverity,\n    setNewSeverity: setNewSeverity,\n    to: to,\n    setTo: setTo,\n    handleChange: handleChange,\n    handleSend: handleSend,\n    send_props: send_props\n  }\n\n  return (\n    <Container maxWidth='xl'>\n\n      <Grid\n        container spacing={1} margin={0} pt={3}\n        sx={{ display: { xs: 'none', md: 'flex' } }}\n      >\n        <FullPanel\n          filter={filter}\n          contentRef={contentRef}\n          {...creation}\n        />\n        <Posts\n          filter={{ severity: severity, owner: owner }}\n          newPost={newPost}\n          setNewPost={setNewPost}\n          newSeverity={newSeverity}\n          to={to}\n          contentFocus={contentFocus}\n          handleMessage={handleMessage}\n        />\n      </Grid>\n\n      <Grid\n        container spacing={1} margin={0} pt={1}\n        sx={{ display: { xs: 'flex', md: 'none' } }}\n      >\n        <Filter\n          filter={filter}\n        />\n        <Posts\n          filter={{ severity: severity, owner: owner }}\n          newPost={newPost}\n          setNewPost={setNewPost}\n          newSeverity={newSeverity}\n          to={to}\n          contentFocus={contentFocus}\n          handleMessage={handleMessage}\n        />\n        <CreatePost\n          {...creation}\n        />\n      </Grid>\n\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}>\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </Container>\n  )\n}\n\nexport default News;","import { useState, useContext, useRef } from 'react'\nimport {\n  Grid, Paper, Box, Typography, TextField, InputAdornment, Button, Radio,\n  FormControl, RadioGroup, FormControlLabel, Divider\n} from '@mui/material'\nimport { LooksOne, LooksTwo, Looks3, Calculate } from '@mui/icons-material'\nimport axios from 'axios'\n\nimport { UserContext } from '../tools/contexts'\nimport { api_url } from '../tools/routes'\n\nconst Complete = (props) => {\n\n  const { handleMessage, history, setHistory } = props\n  const { user } = useContext(UserContext)\n  const [fields, setFields] = useState({ first: '', second: '', third: '' })\n  const [sign, setSign] = useState('pri')\n  const [operation, setOperation] = useState('add')\n  const [expression, setExpression] = useState('')\n  const firstRef = useRef(null)\n  const secondRef = useRef(null)\n  const expRef = useRef(null)\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFields({ ...fields, [name]: value })\n  }\n\n  const handleSign = (e) => {\n    const { value } = e.target\n    setSign(value)\n    setFields({ ...fields, first: '', third: '' })\n    firstRef.current.focus()\n  }\n\n  const handleOperation = (e) => {\n    const { value } = e.target\n    setOperation(value)\n    setFields({ ...fields, second: '' })\n    secondRef.current.focus()\n  }\n\n  const handleExpressionChange = (e) => {\n    const { value } = e.target\n    setExpression(value)\n  }\n\n  const handleQuery = (url, data, to_set) => {\n    for (let [field, value] of Object.entries(data)) {\n      if (!value) {\n        handleMessage(`The ${field} field is required`, 'error')\n        return\n      }\n    }\n    data = { ...data, sign: sign, operation: operation };\n    (async () => {\n      try {\n        const res = await axios.post(\n          api_url + url,\n          data,\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user.token}`\n            }\n          }\n        )\n        if (res.data['result'] !== undefined) {\n          setHistory([\n            {\n              _id: { $date: new Date().getTime() },\n              calculation: res.data.calculation,\n              footnote: res.data.footnote\n            },\n            ...history\n          ])\n          setFields({ ...fields, [to_set]: res.data.result })\n          if (!data.expression) {\n            setExpression(res.data.result);\n            (async () => {navigator.clipboard.writeText(\n              `$${res.data.result}`\n            )})()\n            handleMessage(`$${res.data.result} Copied`, 'success')\n          } else {\n            (async () => {navigator.clipboard.writeText(res.data.result)})()\n            handleMessage(`${res.data.result} Copied`, 'success')\n          }\n        }\n        if (res.data['err']) {\n          handleMessage(res.data['err'], 'error')\n        }\n      }\n      catch (error) {\n        console.error(error)\n      }\n    })()\n  }\n\n  const handleGetFirst = () => {\n    let dataset = { second: fields.second, third: fields.third }\n    handleQuery('/calculator/get-first-term', dataset, 'first')\n    expRef.current.focus()\n  }\n  \n  const handleGetSecond = () => {\n    let dataset = { first: fields.first, third: fields.third }\n    handleQuery('/calculator/get-second-term', dataset, 'second')\n    expRef.current.focus()\n  }\n  \n  const handleGetThird = () => {\n    let dataset = { first: fields.first, second: fields.second }\n    handleQuery('/calculator/get-result', dataset, 'third')\n    expRef.current.focus()\n  }\n\n  const handleEvaluate = () => {\n    handleQuery('/calculator/resolve-expression', { expression: expression })\n  }\n\n  const handleEnterOnFields = () => {\n\n    if (fields.first === '' && fields.second !== '' && fields.third !== '') {\n      handleGetFirst()\n    } else if (\n      fields.first !== '' && fields.second === '' && fields.third !== ''\n    ) {\n      handleGetSecond()\n    } else if (\n      fields.first !== '' && fields.second !== '' && fields.third === ''\n    ) {\n      handleGetThird()\n    } else if (\n      fields.first !== '' && fields.second !== '' && fields.third !== ''\n    ) {\n      handleMessage('impossible to know which operation to perform!', 'warning')\n    } else {\n      handleMessage('You must provide 2 fields at least!', 'warning')\n    }\n  }\n\n  const handleClear = () => {\n    setFields({ first: '', second: '', third: '' })\n    setExpression('')\n  }\n\n  return (\n    <Grid item xs={12} md={7}>\n      <Paper elevation={5} sx={{ borderRadius: 3 }}>\n        <Box sx={{ paddingBlockEnd: 2, minHeight: '65vh' }} p={2}\n          onKeyPress={e => {\n            if (e.key === 'q') {expRef.current.focus()}\n          }}\n        >\n          <Grid container spacing={3} align='center' pr={2}\n            sx={{ minHeight: '60vh', overflow: 'auto' }}\n          >\n            <Grid item xs={12} md={4}>\n              <FormControl sx={{ width: '100%' }} component='fieldset'>\n                <RadioGroup name='sign'\n                  value={sign} onChange={handleSign}\n                >\n                  <Paper>\n                    <Grid item px={3}>\n                      <FormControlLabel\n                        value='pri'\n                        control={<Radio />} label={\n                          <Typography variant='h5' color='primary'>\n                            $\n                          </Typography>\n                        } />\n                      <FormControlLabel\n                        value='per'\n                        control={<Radio color='secondary' />} label={\n                          <Typography variant='h5' color='secondary'>\n                            %\n                          </Typography>\n                        } />\n                    </Grid>\n                  </Paper>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <FormControl sx={{ width: '100%' }} component='fieldset'>\n                <RadioGroup name='operation'\n                  value={operation} onChange={handleOperation}\n                >\n                  <Paper>\n                    <Grid px={3}>\n                      <FormControlLabel\n                        value='add'\n                        control={<Radio />} label={\n                          <Typography variant='h4' color='primary'>\n                            +\n                          </Typography>\n                        } />\n                      <FormControlLabel\n                        value='sub'\n                        control={<Radio color='secondary' />} label={\n                          <Typography variant='h4' color='secondary'>\n                            -\n                          </Typography>\n                        } />\n                    </Grid>\n                  </Paper>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={4}>\n              <Typography variant='h5' color='initial'\n                sx={{ display: { xs: 'none', md: 'flex' } }}\n              >\n                complete calculator\n              </Typography>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <TextField fullWidth size='small' type='number' autoFocus\n                label={sign === 'pri' ? 'Price' : 'Percentage'}\n                InputProps={{\n                  inputProps: { min: '0', step: '10' },\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5'\n                      color={sign === 'pri' ? 'primary' : 'secondary'}\n                    >\n                      {sign === 'pri' ? '$' : ''}\n                    </Typography>\n                  </InputAdornment>,\n                  endAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5' color='secondary'>\n                      {sign === 'pri' ? '' : '%'}\n                    </Typography>\n                  </InputAdornment>\n                }}\n                inputRef={firstRef}\n                name='first'\n                value={fields.first}\n                onChange={handleChange}\n                onKeyPress={e => {\n                  if (e.key === 'Enter') handleEnterOnFields()\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <TextField fullWidth label='day/month/year | Percentage'\n                size='small' InputProps={{\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='h4'\n                      color={operation === 'add' ? 'primary' : 'secondary'}\n                    >\n                      {operation === 'add' ? '+' : '-'}\n                    </Typography>\n                  </InputAdornment>,\n                  endAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5' color='inherit'>\n                      %\n                    </Typography>\n                  </InputAdornment>\n                }}\n                inputRef={secondRef}\n                name='second'\n                value={fields.second}\n                onChange={handleChange}\n                onKeyPress={e => {\n                  if (e.key === 'Enter') handleEnterOnFields()\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <TextField fullWidth label='Result' type='number'\n                size='small' InputProps={{\n                  inputProps: { min: '0', step: '10' },\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5' color='inherit'>\n                      {sign === 'pri' ? '= $' : '='}\n                    </Typography>\n                  </InputAdornment>,\n                  endAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5' color='inherit'>\n                      {sign === 'pri' ? '' : '%'}\n                    </Typography>\n                  </InputAdornment>\n                }}\n                name='third'\n                value={fields.third}\n                onChange={handleChange}\n                onKeyPress={e => {\n                  if (e.key === 'Enter') handleEnterOnFields()\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleGetFirst} size='large'\n                sx={{ minHeight: '100%' }}\n                variant='contained' color='success'\n                endIcon={<LooksOne />}\n              >\n                <Typography variant='body1'>\n                  GET\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleGetSecond} size='large'\n                sx={{ minHeight: '100%' }}\n                variant='contained' color='success'\n                endIcon={<LooksTwo />}\n              >\n                <Typography variant='body1'>\n                  GET\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleGetThird} size='large'\n                sx={{ minHeight: '100%' }}\n                variant='contained' color='success'\n                endIcon={<Looks3 />}\n              >\n                <Typography variant='body1'>\n                  GET\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={12} py={2}>\n              <Divider />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField fullWidth label='Evaluate Expression' size='small'\n                inputRef={expRef}\n                name='expression' InputProps={{\n                  style: { fontFamily: 'monospace', fontSize: 20 },\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='h4' color='primary'>\n                      {'>>>'}\n                    </Typography>\n                  </InputAdornment>\n                }}\n                InputLabelProps={{\n                  style: { fontFamily: 'monospace', fontSize: 20 }\n                }}\n                value={expression}\n                onChange={handleExpressionChange}\n                onKeyPress={e => {\n                  if (e.key === 'Enter') handleEvaluate()\n                }}\n              />\n            </Grid>\n            <Grid item xs={4}></Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleClear} size='large'\n                sx={{ minHeight: '100%' }}\n                variant='contained' color='error'\n                endIcon={<Calculate />}\n              >\n                <Typography variant='body1'>\n                  Clear\n                </Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleEvaluate} size='large'\n                sx={{ minHeight: '100%' }}\n                variant='contained' color='primary'\n                endIcon={<Calculate />}\n              >\n                <Typography variant='body1'>\n                  Evaluate\n                </Typography>\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Complete","import { useState, useContext } from 'react'\nimport {\n  Grid, Paper, Box, Typography, TextField, InputAdornment, Button\n} from '@mui/material'\nimport { Calculate } from '@mui/icons-material'\nimport axios from 'axios'\n\nimport { UserContext } from '../tools/contexts'\nimport { api_url } from '../tools/routes'\n\nconst Basic = (props) => {\n\n  const { handleMessage, history, setHistory } = props\n  const { user } = useContext(UserContext)\n  const [fields, setFields] = useState({ price: '', str_date: '' })\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFields({ ...fields, [name]: value })\n  }\n\n  const handleGetPrice = () => {\n    for (let [field, value] of Object.entries(fields)) {\n      if (!value) {\n        handleMessage(`The ${field} field is required`, 'error')\n        return\n      }\n    }\n    (async () => {\n      try {\n        const res = await axios.post(\n          api_url + '/calculator/price-add-percent',\n          {\n            ...fields,\n            str_date: fields.str_date.split('-').reverse().join('/')\n          },\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user.token}`\n            }\n          }\n        )\n        if (res.data['result'] !== undefined) {\n          setHistory([\n            {\n              _id: { $date: new Date().getTime() },\n              calculation: res.data.calculation,\n              footnote: res.data.footnote\n            },\n            ...history\n          ]);\n          (async () => {navigator.clipboard.writeText(`$${res.data.result}`)})()\n          handleMessage(`$${res.data.result} Copied`, 'success')\n        }\n        if (res.data['err']) {\n          handleMessage(res.data.err, 'error')\n        }\n      }\n      catch (error) {\n        console.error(error)\n      }\n    })()\n  }\n\n  return (\n    <Grid item xs={12} md={7}>\n      <Paper elevation={5} sx={{ borderRadius: 3 }}>\n        <Box sx={{ paddingBlockEnd: 2, minHeight: '30vh' }} p={2}>\n          <Grid container spacing={3} align='center' pr={2}\n            sx={{ minHeight: '25vh', overflow: 'auto' }}\n          >\n            <Grid item xs={12}>\n              <Typography variant='h5' color='initial'>\n                basic calculator\n              </Typography>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <TextField fullWidth label='Price' autoFocus\n                type='number'\n                name='price'\n                InputProps={{\n                  inputProps: { min: '0', step: '10' },\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='h5' color='primary'>\n                      $\n                    </Typography>\n                  </InputAdornment>\n                }}\n                value={fields.price}\n                onChange={handleChange}\n                onKeyPress={\n                  e => { if (e.key === 'Enter') { handleGetPrice() } }\n                }\n              />\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <TextField fullWidth label='Date' type='date'\n                InputProps={{\n                  startAdornment: <InputAdornment position='start'>\n                    <Typography variant='body1' color='primary'>\n                      from\n                    </Typography>\n                  </InputAdornment>\n                }}\n                name='str_date'\n                value={fields.str_date}\n                onChange={handleChange}\n                onKeyPress={\n                  e => { if (e.key === 'Enter') { handleGetPrice() } }\n                }\n              />\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Button fullWidth onClick={handleGetPrice} size='large'\n                sx={{ minHeight: '75%' }}\n                variant='contained' color='success' endIcon={<Calculate />}\n              >\n                <Typography variant='body1'>\n                  GET PRICE\n                </Typography>\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Basic","import { useMemo } from 'react'\nimport {\n  Paper, Typography, Tooltip, Grid, Box, Divider, Chip\n} from '@mui/material'\n\nimport daysAgo from '../tools/daysAgo'\n\nconst CalcHistory = (props) => {\n\n  const { history } = props\n\n  const registries = useMemo(() => {\n\n    const dividedRegistries = []\n    const today = new Date().getTime()\n    let last_day = today\n\n    if (history.length > 0) {\n      history.forEach(reg => {\n        const date = new Date(reg._id['$date'])\n        const other_day = daysAgo(\n          today,\n          new Date(\n            date.setHours(date.getHours() + date.getTimezoneOffset() / 60)\n          )\n        )\n        if (last_day !== other_day) {\n          dividedRegistries.push({ divider: other_day })\n          last_day = other_day\n        }\n        dividedRegistries.push(reg)\n      })\n    } else {\n      dividedRegistries.push(\n        { divider: 'There are no previous calculations' }\n      )\n    }\n\n    return dividedRegistries\n\n  }, [history])\n\n  return (\n    <Grid item xs={12} md={5}>\n      <Box sx={{\n        paddingBlockEnd: 2,\n        height: '75vh',\n        backgroundColor: 'info.main'\n      }} borderRadius={3} p={2}>\n        <Grid container spacing={1} align='center' pr={2} alignItems='top'\n          alignContent='flex-start'\n          sx={{ height: '70vh', overflow: 'auto' }}\n        >\n          <Grid item xs={12}>\n            <Typography variant=\"h5\" color=\"initial\">\n              Result / History\n            </Typography>\n          </Grid>\n          {registries.map((reg, item) => {\n            let component\n            if (reg.divider) {\n              component = (\n                <Grid item xs={12} key={reg.divider}>\n                  <Divider>\n                    <Chip color='warning' size='small' label={reg.divider} />\n                  </Divider>\n                </Grid>\n              )\n            }\n            if (reg._id) {\n\n              let tColor\n              if (item !== 1) {\n                tColor = { color: 'info.light' }\n              }\n\n              component = (\n                <Grid item xs={12} key={reg._id.$date}>\n                  <Paper elevation={7}>\n                    <Tooltip title={reg.footnote}\n                      placement='right' disableInteractive arrow followCursor\n                    >\n                      <Typography variant=\"h6\" {...tColor}\n                        sx={{ whiteSpace: 'pre-line' }}\n                      >\n                        {reg.calculation}\n                      </Typography>\n                    </Tooltip>\n                  </Paper>\n                </Grid>\n              )\n            }\n            return component\n          })}\n        </Grid>\n      </Box>\n    </Grid>\n  )\n}\n\nexport default CalcHistory","import { useContext, useEffect, useState } from 'react'\nimport {\n  Container, Grid, Snackbar, Alert, FormControlLabel, Switch, Typography\n} from '@mui/material'\nimport axios from 'axios'\n\nimport Complete from './Complete'\nimport Basic from './Basic'\nimport CalcHistory from './CalcHistory'\nimport { api_url } from '../tools/routes'\nimport { UserContext, UserSettingsContext } from '../tools/contexts'\n\nconst Calculator = () => {\n\n  const { user } = useContext(UserContext)\n  const { userSettings } = useContext(UserSettingsContext)\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [history, setHistory] = useState([])\n  const [openSB, setOpenSB] = useState(false)\n  const [basic, setBasic] = useState(Boolean(userSettings?.calculator))\n\n  useEffect(() => {\n    const source = axios.CancelToken.source();\n    (async () => {\n      const res = await axios.get(\n        api_url + '/calculator/get-history',\n        {\n          cancelToken: source.token,\n          headers: {\n            Accept: '*/*',\n            Authorization: `Bearer ${user.token}`\n          }\n        }\n      )\n      if (res.data['hist']) {\n        setHistory(res.data['hist'])\n      }\n      if (res.data['msg']) {\n        // console.warn(res.data['msg'])\n      }\n      if (res.data['err']) {\n        console.error(res.data['err'])\n      }\n    })()\n    return () => {\n      source.cancel()\n    }\n  }, [user, setHistory])\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt })\n    setOpenSB(true)\n  }\n\n  const handleBasic = (e) => {\n    const { checked } = e.target\n    setBasic(checked)\n  }\n\n  const handleClose = () => {\n    setOpenSB(false)\n  }\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Grid container spacing={1} margin={0} pt={3}>\n        <Grid item xs={12}>\n          <FormControlLabel labelPlacement='start'\n            label={\n              <Typography px={1}>\n                Calculator\n              </Typography>\n            }\n            control={\n              <FormControlLabel\n                control={<Switch checked={basic} onChange={handleBasic} />}\n                label=\"Basic\"\n              />\n            }\n          />\n        </Grid>\n        {basic\n          ?\n          <Basic\n            history={history}\n            setHistory={setHistory}\n            handleMessage={handleMessage}\n          />\n          :\n          <Complete\n            history={history}\n            setHistory={setHistory}\n            handleMessage={handleMessage}\n          />\n        }\n        <CalcHistory history={history} setHistory={setHistory} />\n      </Grid>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSB}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}>\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </Container>\n  )\n}\n\nexport default Calculator;","const strFormat = (str, regexs, args) => {\n\n\n  let mut_str = str\n  if (regexs !== undefined) {\n    regexs.forEach(({ pattern, replacement }) => {\n      mut_str = mut_str.replace(RegExp(pattern, 'ig'), replacement)\n    })\n  }\n  return mut_str.replace(/{([\\w\\s]+)}/g,\n  (match, index) => {\n      return typeof args[index] === 'undefined' ? match : args[index]\n    }\n  )\n}\n\nexport default strFormat","import { useState, useMemo } from 'react'\nimport {\n  Typography, TableContainer, Table, TableRow, TableCell, TableHead, TableBody,\n  IconButton, TextField, InputAdornment, Grid, Box, Paper, Tooltip,\n  CircularProgress\n} from '@mui/material'\nimport { ContentCopy } from '@mui/icons-material'\n\nimport strFormat from '../tools/strFormat'\n\n\nconst CustomCell = (props) => {\n\n  const { children, sx, ...others } = props\n\n  return (\n    <TableCell align='center' sx={{ borderColor: '#FFFFFF', ...sx }}\n      {...others}\n    >\n      {children}\n    </TableCell>\n  )\n}\n\nconst CreditCards = (props) => {\n\n  const { payMeths, sysRegex, handleMessage, priceRef } = props\n\n  const [price, setPrice] = useState('')\n\n  const paymentMethods = useMemo(() => {\n\n    let last_card = ''\n    let formatedPayMeths = []\n\n    for (let meth of payMeths) {\n\n      if (meth.card_name !== last_card) {\n        last_card = meth.card_name\n        formatedPayMeths.push({\n          id: last_card,\n          header: last_card\n        })\n      }\n      const total = (\n        parseFloat(price) * (1 + meth.increase / 100)\n      ).toFixed() | 0\n      const monthly = (total / meth.installments).toFixed()\n      formatedPayMeths.push({\n        id: meth._id.$oid,\n        card_name: meth.card_name,\n        installments: meth.installments,\n        total: total,\n        monthly: monthly,\n        increase: meth.increase,\n        pos_code: meth.pos_code,\n        description: meth.description\n      })\n    }\n    return formatedPayMeths\n  }, [payMeths, price])\n\n  const handleChangePrice = (e) => {\n    setPrice(e.target.value)\n  }\n\n\n  const handleCopy = (item) => {\n\n    (async () => {\n      navigator.clipboard.writeText(\n        strFormat(`${item.installments} ${item.monthly}`, sysRegex)\n      )\n    })()\n    handleMessage('Text Copied to Clipboard', 'success')\n  }\n\n  return (\n    <Grid item xs={12}>\n      <Box sx={{ paddingBlockEnd: 2, height: '80vh' }}\n        border={2} p={2} borderRadius={1} borderColor='primary.main'\n      >\n        <Grid container spacing={1} align='center' pr={2} alignItems='center'>\n          <Grid item xs={12} md={6}>\n            <Typography variant='h6' color='primary.main'>\n              Credit Cards Payments\n            </Typography>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <TextField label='Price' size='small' autoFocus\n              inputProps={{\n                min: 0, step: 10\n              }}\n              InputProps={{\n                startAdornment: <InputAdornment position='start'>\n                  <Typography variant='h6' color='primary'>\n                    $\n                  </Typography>\n                </InputAdornment>\n              }}\n              inputRef={priceRef}\n              type='number'\n              value={price}\n              onChange={handleChangePrice}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Paper elevation={3} sx={{ borderRadius: '15px 15px 0px 0px' }}>\n              <Paper elevation={3} sx={{\n                borderRadius: '15px 15px 0px 0px',\n                backgroundColor: 'warning.dark',\n                height: 40\n              }}\n              >\n                <Typography variant=\"body1\" color=\"initial\" p={1}>\n                  Card Name\n                </Typography>\n              </Paper>\n              <TableContainer\n                sx={{ height: { xs: '57vh', md: '60vh' } }}\n              >\n                <Table stickyHeader size='small'>\n                  <TableHead>\n                    <TableRow>\n                      <CustomCell width='20%'>\n                        Installments\n                      </CustomCell>\n                      <CustomCell width='20%'\n                        sx={{ backgroundColor: 'error.dark' }}\n                      >\n                        Total\n                      </CustomCell>\n                      <CustomCell width='20%'\n                        sx={{ backgroundColor: 'success.dark' }}\n                      >\n                        Monthly\n                      </CustomCell>\n                      <CustomCell width='20%'>\n                        Increase\n                      </CustomCell>\n                      <CustomCell width='20%'>\n                        PosCode\n                      </CustomCell>\n                      <CustomCell width='20%'>\n                        Copy\n                      </CustomCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {paymentMethods.length > 0 ? paymentMethods.map(item => {\n                      const component = item.header ? (\n                        <TableRow key={item.header}>\n                          <CustomCell width='100%' colSpan={6}\n                            sx={{\n                              borderRadius: '20px 20px 0px 0px',\n                              backgroundColor: 'warning.dark'\n                            }}\n                          >\n                            {item.header}\n                          </CustomCell>\n                        </TableRow>\n                      ) : (\n                        <Tooltip key={item.id}\n                          title={item.description} disableInteractive\n                          placement='right' arrow followCursor\n                        >\n                          <TableRow hover>\n                            <CustomCell>\n                              {item.installments}\n                            </CustomCell>\n                            <CustomCell\n                              sx={{ backgroundColor: 'error.dark' }}\n                            >\n                              ${item.total}\n                            </CustomCell>\n                            <CustomCell\n                              sx={{ backgroundColor: 'success.dark' }}\n                            >\n                              ${item.monthly}\n                            </CustomCell>\n                            <CustomCell>\n                              {item.increase}%\n                            </CustomCell>\n                            <CustomCell>\n                              *{item.pos_code}*\n                            </CustomCell>\n                            <CustomCell>\n                              <IconButton size='small' color='primary'\n                                onClick={() => handleCopy(item)}\n                              >\n                                <ContentCopy fontSize='small' />\n                              </IconButton>\n                            </CustomCell>\n                          </TableRow>\n                        </Tooltip>\n                      )\n                      return component\n                    }) :\n                      <TableRow>\n                        <TableCell colSpan={6} align='center'>\n                          <Typography variant='h4' color='primary'>\n                            L<CircularProgress size={17} />ading ...\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    }\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Paper>\n          </Grid>\n        </Grid>\n      </Box>\n    </Grid>\n  )\n}\n\nexport default CreditCards\n","import { useState, useMemo } from 'react'\nimport {\n  Grid, Box, TextField, IconButton, Stack, Button, Typography, Tooltip,\n  CircularProgress\n} from '@mui/material'\nimport { ContentCopy, Cancel } from '@mui/icons-material'\n\nimport strFormat from '../tools/strFormat'\n\nconst AnswerButtons = (props) => {\n\n  const {\n    commonAnswers, ownAnswers, sysRegex, ownRegex, handleMessage,\n    commonStackRef, ownStackRef\n  } = props\n\n  const [text, setText] = useState('')\n\n  const answerList = useMemo(() => {\n    if (commonAnswers.length > 0 && ownAnswers.length > 0) {\n      return [...commonAnswers, ...ownAnswers].map(({ label, content }) => {\n        return { [label]: content }\n      }).reduce((resObj, curObj) => {\n        return { ...resObj, ...curObj }\n      })\n    }\n\n  }, [commonAnswers, ownAnswers])\n\n  const handleClickAnswer = (text) => {\n    (async () => {\n      navigator.clipboard.writeText(\n        strFormat(text, [...sysRegex, ...ownRegex], answerList)\n      )\n    })()\n    setText(text)\n    handleMessage('Formatted Text Copied to Clipboard', 'success')\n  }\n\n  const handleCopy = () => {\n    (async () => {\n      navigator.clipboard.writeText(\n        strFormat(text, [...sysRegex, ...ownRegex], answerList)\n      )\n    })()\n    handleMessage('Formatted Text Copied to Clipboard', 'success')\n  }\n\n  const handleCopyRaw = () => {\n    (async () => {\n      navigator.clipboard.writeText(text)\n    })()\n    handleMessage('Raw Text Copied to Clipboard', 'success')\n  }\n\n  return (\n    <Grid item xs={12}>\n      <Box sx={{ paddingBlockEnd: 2, minHeight: '80vh' }}\n        border={2} p={2} borderRadius={1} borderColor='primary.main'\n      >\n        <Grid container spacing={1} align='center' pr={2}>\n          <Grid item xs={12} md={11}>\n            <TextField label='Content' focused color='warning'\n              fullWidth multiline rows={4}\n              InputProps={{ readOnly: true }}\n              value={text}\n            />\n          </Grid>\n          <Grid item xs={12} md={1}>\n            <Tooltip title='Copy Formated Text' placement='left'>\n              <IconButton color='primary' onClick={handleCopy}>\n                <ContentCopy />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title='Copy Raw Text' placement='left'>\n              <IconButton color='info' onClick={handleCopyRaw}>\n                <ContentCopy />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title='Unselect Answer' placement='left'>\n              <IconButton color='warning' onClick={() => setText('')}>\n                <Cancel />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Typography variant='h6'>\n              Commons\n            </Typography>\n            <Stack spacing={1} p={1}\n              sx={{ paddingBlockEnd: 2, height: '49vh', overflow: 'auto' }}\n            >\n              {commonAnswers.length > 0 ? commonAnswers.map((ans, i) => {\n                const reference = i === 0 ? {\n                  ref: commonStackRef\n                } : {}\n\n                return (\n                  <Tooltip title='Select and Copy Formatted Text' followCursor\n                    enterDelay={1000} key={ans._id.$oid}\n                  >\n                    <Button fullWidth variant='contained' {...reference}\n                      sx={{\n                        color: '#FFFFFF',\n                        background: ans.color, '&:hover': {\n                          background: ans.color, filter: 'brightness(90%)'\n                        }\n                      }}\n                      onClick={() => handleClickAnswer(ans.content)}\n                    >\n                      {ans.label}\n                    </Button>\n                  </Tooltip>\n                )\n              }) :\n                <Typography variant='h5' color='primary'>\n                  L<CircularProgress size={12} />ading ...\n                </Typography>\n              }\n            </Stack>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Typography variant='h6'>\n              Own\n            </Typography>\n            <Stack spacing={1} p={1}\n              sx={{ paddingBlockEnd: 2, height: '49vh', overflow: 'auto' }}\n            >\n              {ownAnswers.length > 0 ? ownAnswers.map((ans, i) => {\n\n                const reference = i === 0 ? {\n                  ref: ownStackRef\n                } : {}\n\n                return (\n                  <Tooltip title='Select and Copy Formatted Text' followCursor\n                    enterDelay={1000} key={ans._id.$oid}\n                  >\n                    <Button fullWidth variant='contained'\n                      sx={{\n                        color: '#FFFFFF',\n                        background: ans.color, '&:hover': {\n                          background: ans.color, filter: 'brightness(90%)'\n                        }\n                      }}\n                      {...reference}\n                      onClick={() => handleClickAnswer(ans.content)}\n                    >\n                      {ans.label}\n                    </Button>\n                  </Tooltip>\n                )\n              }) :\n                <Typography variant='h5' color='primary'>\n                  L<CircularProgress size={12} />ading ...\n                </Typography>\n              }\n            </Stack>\n          </Grid>\n        </Grid>\n      </Box>\n    </Grid>\n  )\n}\n\nexport default AnswerButtons","import { useState, useRef } from 'react'\nimport {\n  Container, Grid, Snackbar, Alert\n} from '@mui/material'\n\nimport { useAxiosEffect } from '../tools/axiosTool'\nimport CreditCards from './CreditCards'\nimport AnswerButtons from './AnswerButtons'\n\nconst Answers = () => {\n\n  const [openSB, setOpenSB] = useState(false)\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [payMeths, setPayMeths] = useState([])\n  const [commonAnswers, setCommonAnswers] = useState([])\n  const [ownAnswers, setOwnAnswers] = useState([])\n  const [sysRegex, setSysRegex] = useState([])\n  const [ownRegex, setOwnRegex] = useState([])\n  const priceRef = useRef(null)\n  const commonStackRef = useRef(null)\n  const ownStackRef = useRef(null)\n\n  useAxiosEffect(\n    '/answers/get-all', 'answers',\n    (d) => { \n      if (d.answers['payment_methods']) {\n        setPayMeths(d.answers.payment_methods) \n      }\n      if (d.answers['common_answers']) {\n        setCommonAnswers(d.answers.common_answers) \n      }\n      if (d.answers['own_answers']) {\n        setOwnAnswers(d.answers.own_answers) \n      }\n      if (d.answers['sys_regex']) {\n        setSysRegex(d.answers.sys_regex)\n      }\n      if (d.answers['own_regex']) {\n        setOwnRegex(d.answers.own_regex)\n      }\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt });\n    setOpenSB(true)\n  }\n\n  const handleClose = () => {\n    setOpenSB(false)\n  }\n\n\n  return (\n    <Container maxWidth='xl' \n      onKeyPress={e => {\n        if (e.key === 'q') { priceRef.current.focus()}\n        if (e.key === 'w' && commonAnswers.length > 0) {\n          commonStackRef.current.focus()\n        }\n        if (e.key === 'e' && ownAnswers.length > 0) {\n          ownStackRef.current.focus()\n        }\n      }}\n    >\n      <Grid container spacing={1} margin={0} pt={3}>\n        <Grid item xs={12} md={6}>\n          <CreditCards\n            payMeths={payMeths}\n            sysRegex={sysRegex}\n            handleMessage={handleMessage}\n            priceRef={priceRef}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <AnswerButtons\n            commonAnswers={commonAnswers}\n            ownAnswers={ownAnswers}\n            sysRegex={sysRegex}\n            ownRegex={ownRegex}\n            handleMessage={handleMessage}\n            commonStackRef={commonStackRef}\n            ownStackRef={ownStackRef}\n          />\n        </Grid>\n      </Grid>\n\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSB}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt} \n          sx={{ whiteSpace: 'pre-line' }}\n        >\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </Container>\n  )\n}\n\nexport default Answers;","import { Outlet } from 'react-router'\nimport {Container, Grid } from '@mui/material'\n\nconst Settings = () => {\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Grid container spacing={1} margin={0} pt={3}>\n        <Outlet />\n      </Grid>\n    </Container>\n  )\n}\n\nexport default Settings;","import { useState, useMemo } from 'react'\nimport {\n  Typography, TableContainer, Table, TableRow, TableCell, TableHead, TableBody,\n  IconButton, TextField, Grid, Box, Paper, CircularProgress\n} from '@mui/material'\nimport { Done, Delete, Add, Edit, Cancel } from '@mui/icons-material'\n\nimport RDialog from '../../tools/ReusableDialog'\nimport { useAxios } from '../../tools/axiosTool'\n\n\nconst CustomCell = (props) => {\n\n  const { children, sx, ...others } = props\n\n  return (\n    <TableCell align='center' sx={{ borderColor: '#FFFFFF', ...sx }}\n      {...others}\n    >\n      {children}\n    </TableCell>\n  )\n}\n\nconst EditCreditCards = (props) => {\n\n  const { payMeths, setPayMeths, handleMessage } = props\n\n  const paymentMethods = useMemo(() => {\n\n    let last_card = ''\n    let formatedPayMeths = []\n\n    for (let meth of payMeths) {\n\n      if (meth.card_name !== last_card) {\n        last_card = meth.card_name\n        formatedPayMeths.push({\n          id: last_card,\n          header: last_card\n        })\n      }\n      formatedPayMeths.push({\n        id: meth._id.$oid,\n        card_name: meth.card_name,\n        installments: meth.installments,\n        increase: meth.increase,\n        pos_code: meth.pos_code,\n        description: meth.description\n      })\n    }\n    return formatedPayMeths\n  }, [payMeths])\n\n  const initialValue = {\n    id: '',\n    card_name: '',\n    installments: '',\n    increase: '',\n    pos_code: '',\n    description: ''\n  }\n\n  const [newCard, setNewCard] = useState('')\n  const [selected, setSelected] = useState(initialValue)\n  const [method, setMethod] = useState(initialValue)\n\n  const handleChangeNewCard = (e) => {\n    setNewCard(e.target.value)\n  }\n\n  const handleChangeMethod = (e) => {\n    const { name, value } = e.target\n    setMethod({ ...method, [name]: value })\n  }\n\n  // QUERIES -------------------------------------------------------------------\n\n  const handleAddCard = useAxios(\n    'post', '/answers/create-payment-method', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleAddMethod = useAxios(\n    'post', '/answers/create-payment-method', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleUpdateCardName = useAxios(\n    'put', '/answers/update-credit-card', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleUpdateMethod = useAxios(\n    'put', '/answers/update-method', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleDropCard = useAxios(\n    'delete', '/answers/delete-credit-card', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleDropMethod = useAxios(\n    'delete', '/answers/delete-method', 'payment_methods',\n    (d) => {\n      setPayMeths(d.payment_methods)\n      handleMessage(d.msg, 'success')\n      setNewCard('')\n      setSelected(initialValue)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  // ---------------------------------------------------------------------------\n\n  return (\n    <Grid item xs={12}>\n      <Paper elevation={3}>\n        <Box sx={{ paddingBlockEnd: 2, height: '80vh' }}\n          border={2} p={2} borderRadius={1} borderColor='secondary.main'\n        >\n          <Grid container spacing={1} align='center' pr={2} alignItems='center'>\n            <Grid item xs={12}>\n              <Typography variant='body1' color='secondary.main'>\n                Edit Credit Cards Payments Methods\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper elevation={3} sx={{ borderRadius: '15px 15px 0px 0px' }}>\n                <Paper elevation={3} sx={{\n                  borderRadius: '15px 15px 0px 0px',\n                  backgroundColor: 'warning.main',\n                  height: 40\n                }}\n                >\n                  <Typography variant=\"body1\" color=\"initial\" p={1}>\n                    Card Name\n                  </Typography>\n                </Paper>\n                <TableContainer sx={{ height: '60vh' }}>\n                  <Table stickyHeader size='small'>\n                    <TableHead>\n                      <TableRow>\n                        <CustomCell width='25%'>\n                          Installments\n                        </CustomCell>\n                        <CustomCell width='25%'>\n                          Description\n                        </CustomCell>\n                        <CustomCell width='25%'>\n                          Increase\n                        </CustomCell>\n                        <CustomCell width='25%'>\n                          Code\n                        </CustomCell>\n                        <CustomCell width='5%'>\n                          Upg\n                        </CustomCell>\n                        <CustomCell width='5%'>\n                          Drop\n                        </CustomCell>\n                        <CustomCell width='5%'>\n                          Add\n                        </CustomCell>\n                      </TableRow>\n                    </TableHead>\n\n                    <TableBody>\n                      <TableRow>\n                        <CustomCell width='90%' colSpan={6}\n                          sx={{\n                            borderRadius: '50px 0px 0px 50px',\n                            backgroundColor: 'success.dark'\n                          }}\n                        >\n                          <TextField fullWidth label='Card Name' size='small'\n                            variant='standard' value={newCard} color='secondary'\n                            inputProps={{ style: { textAlign: 'center' } }}\n                            onChange={handleChangeNewCard}\n                          />\n                        </CustomCell>\n                        <CustomCell\n                          sx={{\n                            borderRadius: '0px 50px 50px 0px',\n                            backgroundColor: 'success.dark'\n                          }}\n                        >\n                          <IconButton size='small' color='secondary'\n                            disabled={!Boolean(newCard)}\n                            onClick={() => handleAddCard({\n                              method: {\n                                card_name: newCard, installments: 0,\n                                increase: 0, pos_code: 0, description: 'FIXME'\n                              }\n                            })}\n                          >\n                            <Add fontSize='small' />\n                          </IconButton>\n                        </CustomCell>\n                      </TableRow>\n\n                      {paymentMethods.length > 0 ? paymentMethods.map(item => {\n\n                        let component\n                        if (selected.id === item.id) {\n\n                          component = item.header ? (\n                            <TableRow key={item.header}>\n                              <CustomCell width='90%' colSpan={4}\n                                sx={{\n                                  borderRadius: '50px 0px 0px 0px',\n                                  backgroundColor: 'warning.main'\n                                }}\n                              >\n                                <TextField label='Card Name' size='small'\n                                  variant='standard' value={method.header}\n                                  name='header'\n                                  onChange={handleChangeMethod}\n                                />\n                              </CustomCell>\n                              <CustomCell\n                                sx={{ backgroundColor: 'warning.main' }}\n                              >\n                                <RDialog title='Update' confirmText='Update'\n                                  message='Confirm Update Payment Method?'\n                                  color='warning'\n                                  action={() => handleUpdateCardName(\n                                    { name: item.id, new_name: method.header }\n                                  )}\n                                >\n                                  <IconButton size='small' color='error'>\n                                    <Done fontSize='small' />\n                                  </IconButton>\n                                </RDialog>\n                              </CustomCell>\n                              <CustomCell sx={{ backgroundColor: 'warning.main' }}>\n                                <IconButton size='small' color='info'\n                                  onClick={() => setSelected(initialValue)}\n                                >\n                                  <Cancel fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                              <CustomCell\n                                sx={{\n                                  borderRadius: '0px 50px 50px 0px',\n                                  backgroundColor: 'warning.main'\n                                }}\n                              >\n                                <IconButton size='small' color='info'\n                                  onClick={() => handleAddMethod({\n                                    method: {\n                                      card_name: item.header, installments: 0,\n                                      increase: 0, pos_code: 0,\n                                      description: 'FIXME'\n                                    }\n                                  })}\n                                >\n                                  <Add fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                            </TableRow>\n                          ) : (\n                            <TableRow hover key={item.id}>\n                              <CustomCell>\n                                <TextField label='Installments' size='small'\n                                  variant='standard'\n                                  name='installments'\n                                  value={method.installments}\n                                  onChange={handleChangeMethod}\n                                />\n                              </CustomCell>\n                              <CustomCell>\n                                <TextField label='Description' size='small'\n                                  variant='standard'\n                                  name='description'\n                                  value={method.description}\n                                  onChange={handleChangeMethod}\n                                />\n                              </CustomCell>\n                              <CustomCell>\n                                <TextField label='Increase' size='small'\n                                  variant='standard'\n                                  name='increase'\n                                  value={method.increase}\n                                  onChange={handleChangeMethod}\n                                />\n                              </CustomCell>\n                              <CustomCell>\n                                <TextField label='Pos-Code' size='small'\n                                  variant='standard'\n                                  name='pos_code'\n                                  value={method.pos_code}\n                                  onChange={handleChangeMethod}\n                                />\n                              </CustomCell>\n                              <CustomCell>\n                                <RDialog title='Update' confirmText='Update'\n                                  message='Confirm Update Payment Method?'\n                                  color='success' action={\n                                    () => handleUpdateMethod(\n                                      { method: { ...method } }\n                                    )\n                                  }\n                                >\n                                  <IconButton size='small' color='success'\n                                  >\n                                    <Done fontSize='small' />\n                                  </IconButton>\n                                </RDialog>\n                              </CustomCell>\n                              <CustomCell>\n                                <IconButton size='small' color='info'\n                                  onClick={() => setSelected(initialValue)}\n                                >\n                                  <Cancel fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                            </TableRow>\n                          )\n\n                        } else {\n\n                          component = item.header ? (\n                            <TableRow key={item.header}>\n                              <CustomCell width='90%' colSpan={4}\n                                sx={{\n                                  borderRadius: '50px 0px 0px 0px',\n                                  backgroundColor: 'warning.main'\n                                }}\n                              >\n                                {item.header}\n                              </CustomCell>\n                              <CustomCell sx={{ backgroundColor: 'warning.main' }}>\n                                <IconButton size='small' color='error'\n                                  onClick={() => {\n                                    setSelected(item)\n                                    setMethod(item)\n                                  }}\n                                >\n                                  <Edit fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                              <CustomCell\n                                sx={{ backgroundColor: 'warning.main' }}>\n                                <RDialog title='Drop' confirmText='Drop'\n                                  message='Confirm Drop Payment Method?'\n                                  color='error' action={() => handleDropCard(\n                                    { card_name: item.header }\n                                  )}\n                                >\n                                  <IconButton size='small' color='error'\n                                  >\n                                    <Delete fontSize='small' />\n                                  </IconButton>\n                                </RDialog>\n                              </CustomCell>\n                              <CustomCell\n                                sx={{\n                                  borderRadius: '0px 50px 50px 0px',\n                                  backgroundColor: 'warning.main'\n                                }}\n                              >\n                                <IconButton size='small' color='info'\n                                  onClick={() => handleAddMethod({\n                                    method: {\n                                      card_name: item.header, installments: 0,\n                                      increase: 0, pos_code: 0,\n                                      description: 'FIXME'\n                                    }\n                                  })}\n                                >\n                                  <Add fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                            </TableRow>\n                          ) : (\n                            <TableRow hover key={item.id}>\n                              <CustomCell>\n                                {item.installments}\n                              </CustomCell>\n                              <CustomCell>\n                                {item.description}\n                              </CustomCell>\n                              <CustomCell>\n                                {item.increase}\n                              </CustomCell>\n                              <CustomCell>\n                                {item.pos_code}\n                              </CustomCell>\n                              <CustomCell>\n                                <IconButton size='small' color='warning'\n                                  onClick={() => {\n                                    setSelected(item)\n                                    setMethod(item)\n                                  }}\n                                >\n                                  <Edit fontSize='small' />\n                                </IconButton>\n                              </CustomCell>\n                              <CustomCell>\n                                <RDialog title='Drop' confirmText='Drop'\n                                  message='Confirm Drop Payment Method?'\n                                  color='error'\n                                  action={() => handleDropMethod(\n                                    { method: { id: item.id } }\n                                  )}\n                                >\n                                  <IconButton size='small' color='error'\n                                  >\n                                    <Delete fontSize='small' />\n                                  </IconButton>\n                                </RDialog>\n                              </CustomCell>\n                            </TableRow>\n                          )\n\n                        }\n                        return component\n                      }) :\n                        <TableRow>\n                          <TableCell colSpan={7} align='center'>\n                            <Typography variant='h4' color='primary'>\n                              L<CircularProgress size={17} />ading ...\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      }\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </Paper>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default EditCreditCards;\n","import { useState } from 'react'\nimport {\n  Grid, Box, TextField, IconButton, Stack, Button, Typography, Paper, Switch,\n  FormControl, FormControlLabel, MenuItem, Select, CircularProgress\n} from '@mui/material'\nimport { Save, Delete, Cancel } from '@mui/icons-material'\n\nimport RDialog from '../../tools/ReusableDialog'\nimport { useAxios } from '../../tools/axiosTool'\n\nconst EditAnswers = (props) => {\n\n  const {\n    user, commonAnswers, ownAnswers, setCommonAnswers, setOwnAnswers,\n    handleMessage\n  } = props\n\n  const colors = {\n    '#1976d2': 'BLUE',\n    '#0097a7': 'CYAN',\n    '#388e3c': 'GREEN',\n    '#fbc02d': 'YELLOW',\n    '#f57c00': 'ORANGE',\n    '#d32f2f': 'RED',\n    '#c2185b': 'PINK',\n    '#7b1fa2': 'PURPLE',\n    '#5d4037': 'BROWN',\n    '#455a64': 'GREY'\n  }\n\n  const initialAnswer = {\n    id: '',\n    label: '',\n    color: '',\n    content: '',\n    common: false,\n    order: 0\n  }\n\n  const [answer, setAnswer] = useState(initialAnswer)\n  const [edit, setEdit] = useState(false)\n\n  const handleChangeAnswer = (e) => {\n    const { name, value, checked } = e.target\n    setAnswer({\n      ...answer,\n      [name]: name !== 'common' ? value : checked\n    })\n  }\n\n  const handleClickAnswer = (ans) => {\n    setAnswer(ans)\n    setEdit(true)\n  }\n\n  const handleCancel = () => {\n    setAnswer(initialAnswer)\n    setEdit(false)\n  }\n\n  const queryHandlers = [\n    (d) => {\n      if (d.answers['common_answers']) {\n        setCommonAnswers(d.answers.common_answers)\n      }\n      if (d.answers['own_answers']) {\n        setOwnAnswers(d.answers.own_answers)\n      }\n      handleMessage(d.msg, 'success')\n      setAnswer(initialAnswer)\n      setEdit(false)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  ]\n\n  const handleCreateAnswer = useAxios(\n    'post', '/answers/create-answer', 'answers',\n    ...queryHandlers\n  )\n\n  const handleUpdateAnswer = useAxios(\n    'put', '/answers/update-answer', 'answers',\n    ...queryHandlers\n  )\n\n  const handleDeleteAnswer = useAxios(\n    'delete', '/answers/delete-answer', 'answers',\n    ...queryHandlers\n  )\n\n  return (\n    <Grid item xs={12}>\n      <Paper elevation={3}>\n        <Box sx={{ paddingBlockEnd: 2, minHeight: '80vh' }}\n          border={2} p={2} borderRadius={1} borderColor='secondary.main'\n        >\n          <Grid container spacing={1} align='center' pr={2}>\n            <Grid item xs={12} md={3}>\n              <TextField size='small' label='Label' color='warning'\n                fullWidth name='label'\n                value={answer.label} onChange={handleChangeAnswer}\n              />\n            </Grid>\n            <Grid item xs={12} md={3}>\n              <TextField size='small' label='Order' color='warning'\n                fullWidth name='order' type='number'\n                value={answer.order} onChange={handleChangeAnswer}\n              />\n            </Grid>\n            <Grid item xs={12} md={3}>\n              <FormControl fullWidth>\n                <Select size='small'\n                  name='color'\n                  value={answer.color}\n                  onChange={handleChangeAnswer}\n                >\n                  {Object.entries(colors).map(([hex, name]) => {\n                    return (\n                      <MenuItem key={name} value={hex}>\n                        <Typography color={hex}>\n                          {name}\n                        </Typography>\n                      </MenuItem>\n                    )\n                  })\n                  }\n                </Select>\n              </FormControl>\n            </Grid>\n            {user?.is_admin && !edit &&\n              <Grid item xs={12} md={3}>\n                <FormControlLabel control={\n                  <Switch\n                    name='common'\n                    checked={answer.common}\n                    onChange={handleChangeAnswer}\n                  />\n                }\n                  label='Common'\n                />\n              </Grid>\n            }\n            <Grid item xs={12} md={11}>\n              <TextField label='Content' color='warning'\n                fullWidth multiline rows={4} name='content'\n                value={answer.content} onChange={handleChangeAnswer}\n              />\n            </Grid>\n            <Grid item xs={12} md={1}>\n              <RDialog title={edit ? 'Update Answer' : 'Create Answer'}\n                confirmText={edit ? 'Update' : 'Create'} message={\n                  edit ? 'Confirm Update Answer?' : 'Confirm Create Answer?'\n                } action={edit ? () => handleUpdateAnswer({\n                  answer: {\n                    ...answer, id: answer._id.$oid, color: colors[answer.color]\n                  }\n                }) : () => handleCreateAnswer({\n                  answer: {\n                    ...answer, color: colors[answer.color]\n                  }\n                })} color={edit ? 'warning' : 'success'}\n              >\n                <IconButton color={edit ? 'primary' : 'success'}\n                  disabled={!Boolean(answer.label)}\n                >\n                  <Save />\n                </IconButton>\n              </RDialog>\n              <RDialog title='Delete Answer' message='Confirm Delete Answer?'\n                confirmText='Delete' action={() => handleDeleteAnswer({\n                  answer: {\n                    id: answer._id.$oid\n                  }\n                })}\n              >\n                <IconButton color='error' disabled={!Boolean(answer.label)}>\n                  <Delete />\n                </IconButton>\n              </RDialog>\n              <IconButton color='warning' disabled={!Boolean(answer.label)}\n                onClick={handleCancel}\n              >\n                <Cancel />\n              </IconButton>\n            </Grid>\n            {user?.is_admin &&\n              <Grid item xs={12} md={6}>\n                <Typography variant='h6'>\n                  Commons\n                </Typography>\n                <Stack spacing={1} p={1}\n                  sx={{ paddingBlockEnd: 2, height: '40vh', overflow: 'auto' }}\n                >\n                  {commonAnswers.length > 0 ? commonAnswers.map((ans) => {\n                    return (\n                      <Button key={ans._id.$oid} fullWidth variant='contained'\n                        sx={{\n                          color: '#FFFFFF',\n                          background: ans.color, '&:hover': {\n                            background: ans.color, filter: 'brightness(90%)'\n                          }\n                        }}\n                        onClick={() => handleClickAnswer(ans)}\n                      >\n                        {ans.label}\n                      </Button>\n                    )\n                  }) :\n                    <Typography variant='h5' color='primary'>\n                      L<CircularProgress size={12} />ading ...\n                    </Typography>\n                  }\n                </Stack>\n              </Grid>\n            }\n            <Grid item xs={12} md={6}>\n              <Typography variant='h6'>\n                Own\n              </Typography>\n              <Stack spacing={1} p={1}\n                sx={{ paddingBlockEnd: 2, height: '40vh', overflow: 'auto' }}\n              >\n                {ownAnswers.length > 0 ? ownAnswers.map((ans) => {\n                  return (\n                    <Button key={ans._id.$oid} fullWidth variant='contained'\n                      sx={{\n                        color: '#FFFFFF',\n                        background: ans.color, '&:hover': {\n                          background: ans.color, filter: 'brightness(90%)'\n                        }\n                      }}\n                      onClick={() => handleClickAnswer(ans)}\n                    >\n                      {ans.label}\n                    </Button>\n                  )\n                }) :\n                  <Typography variant='h5' color='primary'>\n                    L<CircularProgress size={12} />ading ...\n                  </Typography>\n                }\n              </Stack>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default EditAnswers","import { useState, useContext } from 'react'\nimport { Grid, Snackbar, Alert } from '@mui/material'\n\nimport { useAxiosEffect } from '../../tools/axiosTool'\nimport EditCreditCards from './EditCreditCards'\nimport EditAnswers from './EditAnswers'\nimport { UserContext } from '../../tools/contexts'\n\nconst AnswersSettings = () => {\n\n  const { user } = useContext(UserContext)\n\n  const [openSB, setOpenSB] = useState(false)\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [payMeths, setPayMeths] = useState([])\n  const [commonAnswers, setCommonAnswers] = useState([])\n  const [ownAnswers, setOwnAnswers] = useState([])\n\n\n  useAxiosEffect(\n    '/answers/get-all', 'answers',\n    (d) => {\n      if (d.answers['payment_methods']) {\n        setPayMeths(d.answers.payment_methods)\n      }\n      if (d.answers['common_answers']) {\n        setCommonAnswers(d.answers.common_answers)\n      }\n      if (d.answers['own_answers']) {\n        setOwnAnswers(d.answers.own_answers)\n      }\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt });\n    setOpenSB(true)\n  }\n\n  const handleClose = () => {\n    setOpenSB(false)\n  }\n\n  return (\n    <>\n      {user.is_admin &&\n        <Grid item xs={12} md={6}>\n          <EditCreditCards\n            payMeths={payMeths}\n            setPayMeths={setPayMeths}\n            handleMessage={handleMessage}\n          />\n        </Grid>\n      }\n      <Grid item xs={12} md={6}>\n        <EditAnswers\n          user={user}\n          commonAnswers={commonAnswers}\n          setCommonAnswers={setCommonAnswers}\n          ownAnswers={ownAnswers}\n          setOwnAnswers={setOwnAnswers}\n          handleMessage={handleMessage}\n        />\n      </Grid>\n\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSB}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}\n          sx={{ whiteSpace: 'pre-line' }}\n        >\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </>\n  )\n}\n\nexport default AnswersSettings;","import { useState } from 'react'\nimport {\n  Grid, Paper, Box, Button, TextField, Typography, FormControlLabel, Checkbox,\n  Divider\n} from '@mui/material'\nimport { ArrowUpward, Add } from '@mui/icons-material'\nimport RDialog from '../../tools/ReusableDialog'\n\nconst NewItem = (props) => {\n\n  const { dates, setDates, setHasChanged, handleMessage } = props\n\n  const initialNewOne = { str_date: '', percent: '', increaseAll: true }\n\n  const [newOne, setNewOne] = useState(initialNewOne)\n  const [upAll, setUpAll] = useState('')\n\n  const handleChangeNewOne = (e) => {\n    const { name, value, checked } = e.target\n    setNewOne({ ...newOne, [name]: name === 'increaseAll' ? checked : value })\n  }\n\n  const addSuccessiveIncreases = (inc) => {\n    const b = parseFloat(inc)\n    return dates.map(item => {\n      const a = parseFloat(item.percent)\n      const newPercent = a + b + (a * b / 100)\n      return { _id: item._id, percent: newPercent.toFixed(2) }\n    })\n  }\n\n  const handleAddOne = () => {\n    const newDate = newOne.str_date.split('-').join('/')\n    const newPercent = parseFloat(newOne.percent)\n    for (let date of dates) {\n      if (date._id === newDate) {\n        handleMessage(`'${date._id}' is already on the list`, 'error')\n        return\n      }\n    }\n    let newDates = newOne.increaseAll\n      ? addSuccessiveIncreases(newPercent)\n      : dates\n    setDates([\n      { _id: newDate, percent: newPercent },\n      ...newDates\n    ])\n    setHasChanged(true)\n    setNewOne(initialNewOne)\n  }\n  \n  const handleUpdateAll = () => {\n    setDates(addSuccessiveIncreases(upAll))\n    setHasChanged(true)\n    setUpAll('')\n  }\n\n  return (\n    <Grid item pb='1vh'>\n      <Paper elevation={5} sx={{ borderRadius: 1 }}>\n        <Box borderRadius={3} p={2}\n          sx={{ paddingBlockEnd: 2, minHeight: '39vh' }}\n        >\n          <Grid container spacing={1} align='center' pr={2}\n            alignItems='center'\n            sx={{ minHeight: '35vh', overflow: 'auto' }}\n          >\n            <Grid item xs={12}>\n              <Typography variant='h6' color='success.main'>\n                Add New Date - Percentage\n              </Typography>\n            </Grid>\n            <Grid item xs={8} md={4}>\n              <TextField fullWidth size='small' label='Date'\n                focused\n                type='date'\n                name='str_date'\n                value={newOne.str_date}\n                onChange={handleChangeNewOne}\n              />\n            </Grid>\n            <Grid item xs={4} md={2}>\n              <TextField fullWidth size='small' label='Percentage'\n                inputProps={{ min: 0 }}\n                type='number'\n                name='percent'\n                value={newOne.percent}\n                onChange={handleChangeNewOne}\n              />\n            </Grid>\n            <Grid item xs={6} md={3}>\n              <FormControlLabel label='Increase All' control={\n                <Checkbox color='warning'\n                  name='increaseAll'\n                  checked={newOne.increaseAll}\n                  onChange={handleChangeNewOne}\n                />\n              } />\n            </Grid>\n            <Grid item xs={6} md={3}>\n              <RDialog title='Add New Date-Percentage Pair'\n                message='Confirm add a new one?' confirmText='ADD'\n                color='success' action={handleAddOne}\n              >\n                <Button fullWidth variant='contained' color='success'\n                  disabled={\n                    !Boolean(newOne.str_date)\n                    || !Boolean(newOne.percent)\n                  }\n                  sx={{ height: '100%' }} startIcon={<Add />}\n                >\n                  ADD\n                </Button>\n              </RDialog>\n            </Grid>\n            <Grid item xs={12} py={2}>\n              <Divider />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant='h6' color='warning.main'>\n                Increase All Percentages\n              </Typography>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField fullWidth size='small' label='Percentage'\n                inputProps={{ min: 0 }}\n                type='number'\n                value={upAll}\n                onChange={(e) => setUpAll(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <RDialog title='Update Date-Percentage Table'\n                message='Confirm update table?' confirmText='UPDATE'\n                action={handleUpdateAll}\n              >\n                <Button fullWidth variant='contained' color='warning'\n                  disabled={!Boolean(upAll)}\n                  sx={{ height: '100%' }} startIcon={<ArrowUpward />}\n                >\n                  UPDATE TABLE\n                </Button>\n              </RDialog>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default NewItem","import { useState, useContext } from 'react'\nimport {\n  Grid, Paper, Box, Table, TableHead, TableBody, TableRow, TableCell,\n  Button, IconButton, Typography, CircularProgress\n} from '@mui/material'\nimport { ArrowUpward, Download, Delete } from '@mui/icons-material'\nimport axios from 'axios'\n\nimport { UserContext } from '../../tools/contexts'\nimport { api_url } from '../../tools/routes'\nimport RDialog from '../../tools/ReusableDialog'\n\n\nconst Lists = (props) => {\n\n  const { lists, setLists, setDates, setHasChanged, handleMessage } = props\n\n  const { user } = useContext(UserContext)\n  const [selectedList, setSelectedList] = useState('')\n\n  const fetchList = () => {\n    try {\n      (async () => {\n        const res = await axios.get(\n          api_url + '/calculator/get-lists-data',\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user.token}`\n            }\n          }\n        )\n        if (res.data['dates']) {\n          setDates(res.data.dates)\n        }\n        if (res.data['err']) {\n          console.error(res.data.err)\n        }\n      })()\n    }\n    catch (error) {\n      console.error(error)\n    }\n  }\n\n  const handleLoadList = () => {\n    try {\n      (async () => {\n        const res = await axios.post(\n          api_url + '/calculator/load-list',\n          { list_name: selectedList },\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user?.token}`\n            }\n          }\n        )\n        if (res.data['msg']) {\n          fetchList()\n          handleMessage(res.data.msg, 'success')\n        }\n        if (res.data['err']) {\n          handleMessage(res.data.err, 'error')\n        }\n      })()\n      setSelectedList('')\n      setHasChanged(false)\n    }\n    catch (error) {\n      console.error(error)\n    }\n  }\n\n  const handleDownloadList = (name) => {\n    try {\n      (async () => {\n        const res = await axios.post(\n          api_url + '/calculator/get-list-file',\n          { file_name: name },\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user?.token}`\n            }\n          }\n        )\n        if (res.data['err']) {\n          console.error(res.data.err)\n        } else {\n          const fileToSave = window.URL.createObjectURL(\n            new Blob(\n              [JSON.stringify(res.data, undefined, 2)],\n              { type: 'application/json' }\n            )\n          )\n          const link = document.createElement('a')\n          link.href = fileToSave\n          link.setAttribute('download', `${name}`)\n          document.body.appendChild(link)\n          link.click()\n          link.remove()\n        }\n      })()\n    }\n    catch (error) {\n      console.error(error)\n    }\n  }\n\n  const handleDropList = (name) => {\n    try {\n      (async () => {\n        const res = await axios.delete(\n          api_url + '/calculator/drop-list',\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user?.token}`\n            },\n            data: { file_name: name }\n          }\n        )\n        if (res.data['msg']) {\n          const new_list = lists.filter(i => i.list_name !== name)\n          setLists(new_list)\n          setSelectedList('')\n          handleMessage(res.data.msg, 'info')\n        }\n        if (res.data['err']) {\n          handleMessage(res.data.err, 'error')\n        }\n      })()\n    }\n    catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <Grid item>\n      <Paper elevation={5} sx={{ borderRadius: 1 }}>\n        <Box borderRadius={3} p={2}\n          sx={{ paddingBlockEnd: 2, minHeight: '40vh' }}\n        >\n          <Grid container spacing={1} align='center' pr={2}\n            alignItems='center'\n            alignContent='flex-start'\n          >\n            <Grid item xs={12} md={6}>\n              <Typography variant='h6' color='error.main'>\n                Load Table\n              </Typography>\n            </Grid>\n            <Grid item xs={12} md={6} pb={2}>\n              <RDialog title='Load Table'\n                message='Confirm load table?'\n                confirmText='LOAD' disabled={!Boolean(selectedList)}\n                action={handleLoadList}\n              >\n                <Button fullWidth variant='contained' color='error'\n                  disabled={!Boolean(selectedList)}\n                  sx={{ height: '100%' }} startIcon={<ArrowUpward />}\n                >\n                  LOAD TABLE\n                </Button>\n              </RDialog>\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container align='center'\n                alignItems='center'\n                alignContent='flex-start'\n                sx={{ height: '25vh', overflow: 'auto' }}\n              >\n                <Table stickyHeader size='small'>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align='center' width='80%'\n                        sx={{ borderRadius: '5px 5px 0px 0px' }}\n                      >\n                        Table Name\n                      </TableCell>\n                      <TableCell align='center' width='10%'\n                        sx={{ borderRadius: '5px 5px 0px 0px' }}\n                      >\n                        Download\n                      </TableCell>\n                      <TableCell align='center' width='10%'\n                        sx={{ borderRadius: '5px 5px 0px 0px' }}\n                      >\n                        Drop\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {lists.length > 0 ? lists.map(list => {\n                      const is_sel = selectedList === list.list_name\n                      return (\n                        <TableRow key={list._id.$oid} hover\n                          selected={is_sel}\n                        >\n                          <TableCell align='center'\n                            onClick={() => {\n                              is_sel ?\n                                setSelectedList('')\n                                :\n                                setSelectedList(list.list_name)\n                            }}>\n                            {list.list_name}\n                          </TableCell>\n                          <TableCell align='center'>\n                            <IconButton size='small' color='info'\n                              onClick={() =>\n                                handleDownloadList(list.list_name)\n                              }\n                            >\n                              <Download />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell align='center'>\n                            <RDialog title='Drop Data Table?'\n                              message='Confirm drop Table?'\n                              confirmText='DROP'\n                              action={() => {\n                                handleDropList(list.list_name)\n                              }}\n                            >\n                              <IconButton size='small' color='error'>\n                                <Delete />\n                              </IconButton>\n                            </RDialog>\n                          </TableCell>\n                        </TableRow>\n                      )\n                    }) :\n                      <TableRow>\n                        <TableCell colSpan={3} align='center'>\n                          <Typography variant='h4' color='primary'>\n                            L<CircularProgress size={17} />ading ...\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    }\n                  </TableBody>\n                </Table>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Lists","import { useState, useContext } from 'react'\nimport {\n  Grid, Paper, Box, Table, TableHead, TableBody, TableRow, TableCell,\n  IconButton, TextField, Button, Typography, CircularProgress\n} from '@mui/material'\nimport {\n  Done, Cancel, Edit, Delete\n} from '@mui/icons-material'\nimport axios from 'axios'\n\nimport { UserContext } from '../../tools/contexts'\nimport { api_url } from '../../tools/routes'\nimport RDialog from '../../tools/ReusableDialog'\n\nconst Items = (props) => {\n\n  const {\n    dates, setDates, lists, setLists, hasChanged, setHasChanged, handleMessage\n  } = props\n\n  const { user } = useContext(UserContext)\n  const [selected, setSelected] = useState({ _id: '', percent: '' })\n  const [oneDate, setOneDate] = useState({ _id: '', percent: '' })\n\n  const handleChangeSelected = (e) => {\n    const { name, value } = e.target\n    setOneDate({ ...oneDate, [name]: value })\n  }\n\n  const handleUpdateOne = () => {\n    let newDates = dates.map(item => {\n      return item._id !== selected._id ? item\n        : { _id: oneDate._id, percent: parseFloat(oneDate.percent) }\n    })\n    if (selected._id !== oneDate._id) {\n      newDates.push({ ...selected, percent: -1 })\n    }\n    setDates(newDates)\n    setSelected({ _id: '', percent: '' })\n    setHasChanged(true)\n  }\n\n  const handleDeleteOne = (id) => {\n    const newDates = dates.filter(item => item._id !== id)\n    setDates(newDates)\n    setHasChanged(true)\n  }\n\n  const handleUpdateTable = () => {\n    try {\n      (async () => {\n        const res = await axios.post(\n          api_url + '/calculator/load-list',\n          { dates: dates },\n          {\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user?.token}`\n            }\n          }\n        )\n        if (res.data['msg']) {\n          const newLists = lists\n          newLists.unshift({\n            _id: { $oid: new Date().getTime() },\n            list_name: res.data.new_list\n          })\n          setLists(newLists)\n          const newDates = dates\n            .filter(item => item.percent !== -1)\n            .sort((a, b) => a._id > b._id ? -1 : (a._id < b._id ? 1 : 0))\n          setDates(newDates)\n          handleMessage(res.data.msg, 'success')\n          setHasChanged(false)\n        }\n        if (res.data['err']) {\n          handleMessage(res.data.err, 'error')\n        }\n      })()\n    }\n    catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <Paper elevation={5} sx={{ borderRadius: 1 }}>\n      <Box borderRadius={3} p={2}\n        sx={{ paddingBlockEnd: 2, minHeight: '80vh' }}\n      >\n        <Grid container spacing={1} align='center' pr={2}\n          alignItems='top'\n          alignContent='flex-start'\n          sx={{ height: '65vh', overflow: 'auto' }}\n        >\n          <Table stickyHeader size='small'>\n            <TableHead>\n              <TableRow>\n                <TableCell align='center' width='50%'\n                  sx={{ borderRadius: '5px 5px 0px 0px' }}\n                >\n                  Date (y/m/d)\n                </TableCell>\n                <TableCell align='center' width='30%'\n                  sx={{ borderRadius: '5px 5px 0px 0px' }}\n                >\n                  Percentage\n                </TableCell>\n                <TableCell align='center' width='10%'\n                  sx={{ borderRadius: '5px 5px 0px 0px' }}\n                >\n                  Edit\n                </TableCell>\n                <TableCell align='center' width='10%'\n                  sx={{ borderRadius: '5px 5px 0px 0px' }}\n                >\n                  Drop\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {dates?.length > 0 ?\n                dates?.map(date => {\n                  const dis = (\n                    selected._id === oneDate._id &&\n                    selected.percent.toString() ===\n                    oneDate.percent.toString()\n                  )\n                  const component = (selected._id === date._id\n                    ?\n                    <TableRow key={date._id} hover selected>\n                      <TableCell>\n                        {<TextField size='small' variant='standard'\n                          inputProps={{\n                            style: { textAlign: 'center' }\n                          }}\n                          name='_id'\n                          value={oneDate._id}\n                          onChange={handleChangeSelected}\n                        />}\n                      </TableCell>\n                      <TableCell>\n                        <TextField size='small' variant='standard'\n                          inputProps={{\n                            style: { textAlign: 'center' },\n                            min: 0\n                          }}\n                          type='number'\n                          name='percent'\n                          value={oneDate.percent}\n                          onChange={handleChangeSelected}\n                        />\n                      </TableCell>\n                      <TableCell align='right'>\n                        <IconButton size='small' color='success'\n                          disabled={dis}\n                          onClick={handleUpdateOne}\n                        >\n                          <Done />\n                        </IconButton>\n                      </TableCell>\n                      <TableCell align='right'>\n                        <IconButton size='small' color='info'\n                          onClick={() =>\n                            setSelected({ _id: '', percent: '' })\n                          }\n                        >\n                          <Cancel />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                    :\n                    <TableRow key={date._id} hover>\n                      <TableCell align='center'>\n                        {date._id}\n                      </TableCell>\n                      <TableCell align='center'>\n                        {date.percent}\n                      </TableCell>\n                      <TableCell align='right'>\n                        <IconButton size='small' color='warning'\n                          onClick={() => {\n                            setOneDate({\n                              _id: date._id, percent: date.percent\n                            })\n                            setSelected({\n                              _id: date._id, percent: date.percent\n                            })\n                          }}\n                        >\n                          <Edit />\n                        </IconButton>\n                      </TableCell>\n                      <TableCell align='right'>\n                        <RDialog title='Delete Data?'\n                          message='Confirm delete Data Percentage?'\n                          confirmText='Delete'\n                          action={() => handleDeleteOne(date._id)}\n                        >\n                          <IconButton size='small' color='error'>\n                            <Delete />\n                          </IconButton>\n                        </RDialog>\n                      </TableCell>\n                    </TableRow>\n                  )\n                  return component\n                })\n                :\n                <TableRow>\n                  <TableCell colSpan={4} align='center'>\n                    <Typography variant='h4' color='primary'>\n                      L<CircularProgress size={17} />ading ...\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              }\n            </TableBody>\n          </Table>\n        </Grid>\n        <Grid container spacing={2} py={2}>\n          <Grid item xs={6} md={9}></Grid>\n          <Grid item xs={6} md={3}>\n            <RDialog title='Update Table' message='Confirm Update Table?'\n              confirmText='UPDATE' action={handleUpdateTable} color='warning'\n              disabled={!hasChanged}\n            >\n              <Button fullWidth variant='contained' color='error'\n                disabled={!hasChanged}\n              >\n                Update Table\n              </Button>\n            </RDialog>\n          </Grid>\n        </Grid>\n      </Box>\n    </Paper>\n  )\n}\n\nexport default Items","import { useEffect, useState, useContext } from 'react'\nimport { Grid, Typography, Snackbar, Alert } from '@mui/material'\nimport axios from 'axios'\n\nimport { UserContext } from '../../tools/contexts'\nimport { api_url } from '../../tools/routes'\nimport NewItem from './NewItem'\nimport Lists from './Lists'\nimport Items from './Items'\n\n\nconst CalculatorSettings = () => {\n\n  const { user } = useContext(UserContext)\n\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [open, setOpen] = useState(false)\n\n  const [dates, setDates] = useState([])\n  const [lists, setLists] = useState([])\n  const [hasChanged, setHasChanged] = useState(false)\n\n  useEffect(() => {\n    const source = axios.CancelToken.source();\n    try {\n      (async () => {\n        const res = await axios.get(\n          api_url + '/calculator/get-lists-data',\n          {\n            cancelToken: source.token,\n            headers: {\n              Accept: '*/*',\n              Authorization: `Bearer ${user.token}`\n            }\n          }\n        )\n        if (res.data['dates']) {\n          setDates(res.data.dates)\n          setLists(res.data.lists)\n        }\n        if (res.data['err']) {\n          console.error(res.data.err)\n        }\n      })()\n    }\n    catch (error) {\n      console.error(error)\n    }\n    return () => {\n      source.cancel()\n    }\n  }, [user])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt })\n    setOpen(true)\n  }\n\n  return (\n    <>\n      {user?.is_admin ?\n        <>\n          <Grid item xs={12} md={6}>\n\n            <NewItem\n              dates={dates}\n              setDates={setDates}\n              setHasChanged={setHasChanged}\n              handleMessage={handleMessage}\n            />\n\n            <Lists\n              lists={lists}\n              setLists={setLists}\n              setDates={setDates}\n              setHasChanged={setHasChanged}\n              handleMessage={handleMessage}\n            />\n\n          </Grid>\n          <Grid item xs={12} md={6}>\n\n            <Items\n              dates={dates}\n              setDates={setDates}\n              lists={lists}\n              setLists={setLists}\n              hasChanged={hasChanged}\n              setHasChanged={setHasChanged}\n              handleMessage={handleMessage}\n            />\n\n          </Grid>\n\n        </>\n        :\n        <Grid item>\n          <Typography variant='h3' color='error'>\n            ⛔ This section is for admins only\n          </Typography>\n        </Grid>\n      }\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}>\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </>\n  )\n}\n\nexport default CalculatorSettings;","import { useState, useContext } from 'react'\nimport {\n  Grid, Box, TextField, IconButton, Stack, Button, Typography, Paper, Switch,\n  FormControlLabel, Snackbar, Alert, CircularProgress\n} from '@mui/material'\nimport { Save, Delete, Cancel } from '@mui/icons-material'\n\nimport { UserContext } from '../../tools/contexts'\nimport RDialog from '../../tools/ReusableDialog'\nimport { useAxiosEffect, useAxios } from '../../tools/axiosTool'\n\nconst ExpressionsSettings = () => {\n\n  const { user } = useContext(UserContext)\n\n  const initialExpression = {\n    id: '',\n    is_system: false,\n    identifier: '',\n    pattern: '',\n    replacement: ''\n  }\n\n  const [openSB, setOpenSB] = useState(false)\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [sysRegex, setSysRegex] = useState([])\n  const [ownRegex, setOwnRegex] = useState([])\n  const [expression, setExpression] = useState(initialExpression)\n  const [edit, setEdit] = useState(false)\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt });\n    setOpenSB(true)\n  }\n\n  const handleClose = () => {\n    setOpenSB(false)\n  }\n\n  const handleChangeExpression = (e) => {\n    const { name, value, checked } = e.target\n    setExpression({\n      ...expression,\n      [name]: name !== 'is_system' ? value : checked\n    })\n  }\n\n  const handleClickExpression = (exp) => {\n    setExpression(exp)\n    setEdit(true)\n  }\n\n  const handleCancel = () => {\n    setExpression(initialExpression)\n    setEdit(false)\n  }\n\n  const queryHandlers = [\n    (d) => {\n      if (d.answers['sys_regex']) {\n        setSysRegex(d.answers.sys_regex)\n      }\n      if (d.answers['own_regex']) {\n        setOwnRegex(d.answers.own_regex)\n      }\n      if (d.msg) {\n        handleMessage(d.msg, 'success')\n      }\n      setExpression(initialExpression)\n      setEdit(false)\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  ]\n\n  useAxiosEffect(\n    '/answers/get-expressions', 'answers',\n    ...queryHandlers\n  )\n\n  const handleCreateAnswer = useAxios(\n    'post', '/answers/create-expression', 'answers',\n    ...queryHandlers\n  )\n\n  const handleUpdateAnswer = useAxios(\n    'put', '/answers/update-expression', 'answers',\n    ...queryHandlers\n  )\n\n  const handleDeleteAnswer = useAxios(\n    'delete', '/answers/delete-expression', 'answers',\n    ...queryHandlers\n  )\n\n  return (\n    <>\n      <Grid item xs={12} md={6}>\n        <Paper elevation={7}>\n          <Box sx={{ paddingBlockEnd: 2, minHeight: '80vh' }}\n            border={2} p={2} borderRadius={1} borderColor='info.main'\n          >\n            <Grid container spacing={1} align='center' pr={2}>\n              <Grid item xs={12} md={8}>\n                <TextField size='small' label='Identifier' color='warning'\n                  fullWidth name='identifier'\n                  value={expression.identifier}\n                  onChange={handleChangeExpression}\n                />\n              </Grid>\n\n              {user?.is_admin && !edit &&\n                <Grid item xs={12} md={3}>\n                  <FormControlLabel control={\n                    <Switch\n                      name='is_system'\n                      checked={expression.is_system}\n                      onChange={handleChangeExpression}\n                    />\n                  }\n                    label='System'\n                  />\n                </Grid>\n              }\n              <Grid item xs={12} md={11}>\n                <TextField size='small' label='Pattern' color='warning'\n                  fullWidth name='pattern'\n                  value={expression.pattern} onChange={handleChangeExpression}\n                />\n              </Grid>\n              <Grid item xs={12} md={11}>\n                <TextField label='Replacement' color='warning'\n                  fullWidth multiline rows={4} name='replacement'\n                  value={expression.replacement}\n                  onChange={handleChangeExpression}\n                />\n              </Grid>\n              <Grid item xs={12} md={1}>\n                <RDialog title={edit ? 'Update Answer' : 'Create Answer'}\n                  confirmText={edit ? 'Update' : 'Create'} message={\n                    edit ? 'Confirm Update Answer?' : 'Confirm Create Answer?'\n                  } action={edit ? () => handleUpdateAnswer({\n                    expression: {\n                      ...expression, id: expression._id.$oid\n                    }\n                  }) : () => handleCreateAnswer({\n                    expression: expression\n                  })} color={edit ? 'warning' : 'success'}\n                >\n                  <IconButton color={edit ? 'primary' : 'success'}\n                    disabled={!Boolean(expression.identifier)}\n                  >\n                    <Save />\n                  </IconButton>\n                </RDialog>\n                <RDialog title='Delete Answer' message='Confirm Delete Answer?'\n                  confirmText='Delete' action={() => handleDeleteAnswer({\n                    expression: {\n                      id: expression._id.$oid\n                    }\n                  })}\n                >\n                  <IconButton color='error'\n                    disabled={!Boolean(expression.identifier)}\n                  >\n                    <Delete />\n                  </IconButton>\n                </RDialog>\n                <IconButton color='warning'\n                  disabled={!Boolean(expression.identifier)}\n                  onClick={handleCancel}\n                >\n                  <Cancel />\n                </IconButton>\n              </Grid>\n              {user?.is_admin &&\n                <Grid item xs={12} md={6}>\n                  <Typography variant='h6'>\n                    System\n                  </Typography>\n                  <Stack spacing={1} p={1}\n                    sx={{\n                      paddingBlockEnd: 2, height: '38vh', overflow: 'auto'\n                    }}\n                  >\n                    {sysRegex.length > 0 ? sysRegex.map((exp) => {\n                      return (\n                        <Button key={exp._id.$oid} fullWidth variant='contained'\n                          color='error'\n                          onClick={() => handleClickExpression(exp)}\n                        >\n                          {exp.identifier}\n                        </Button>\n                      )\n                    }) :\n                      <Typography variant='h4' color='error'>\n                        L<CircularProgress size={17} />ading ...\n                      </Typography>\n                    }\n                  </Stack>\n                </Grid>\n              }\n              <Grid item xs={12} md={6}>\n                <Typography variant='h6'>\n                  Own\n                </Typography>\n                <Stack spacing={1} p={1}\n                  sx={{ paddingBlockEnd: 2, height: '38vh', overflow: 'auto' }}\n                >\n                  {ownRegex.length > 0 ? ownRegex.map((ans) => {\n                    return (\n                      <Button key={ans._id.$oid} fullWidth variant='contained'\n                        color='primary'\n                        onClick={() => handleClickExpression(ans)}\n                      >\n                        {ans.identifier}\n                      </Button>\n                    )\n                  }) :\n                    <Typography variant='h4' color='primary'>\n                      L<CircularProgress size={17} />ading ...\n                    </Typography>\n                  }\n                </Stack>\n              </Grid>\n            </Grid>\n          </Box>\n        </Paper>\n      </Grid>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSB}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}\n          sx={{ whiteSpace: 'pre-line' }}\n        >\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </>\n  )\n}\n\nexport default ExpressionsSettings","import { useContext, useState, useEffect } from 'react'\nimport { useNavigate, useLocation } from 'react-router'\nimport axios from 'axios'\nimport {\n  Typography, Button, Grid, TextField, Container, Alert, Fade\n} from '@mui/material'\n\nimport { UserContext, UserSettingsContext } from '../tools/contexts'\nimport { api_url } from '../tools/routes'\n\nconst UserLogin = () => {\n\n  const [uName, setUName] = useState('')\n  const [uPass, setUPass] = useState('')\n  const [loginState, setLoginState] = useState('')\n\n  const { user, setUser } = useContext(UserContext)\n  const { setUserSettings } = useContext(UserSettingsContext)\n  const navigate = useNavigate()\n  const location = useLocation()\n\n  useEffect(() => {\n    if (user) {\n      navigate(\n        location.pathname === '/login' ? '/news' : location.pathname,\n        { replace: true }\n      )\n    }\n  })\n\n  const handleUName = e => {\n    setUName(e.target.value)\n  }\n\n  const handleUPass = e => {\n    setUPass(e.target.value)\n  }\n\n  const handleLogin = async e => {\n    e.preventDefault()\n    const path = location.pathname === '/login' ? '/news' : location.pathname\n\n    try {\n      let res = await axios.post(\n        api_url + '/users/signin',\n        {\n          'username': uName,\n          'password': uPass\n        }\n      )\n      if (res.data['user']) {\n        setUser({ ...res.data.user, username: uName })\n        setUserSettings({ ...res.data.settings })\n      } else {\n        setUName('')\n        setUPass('')\n        setLoginState(res.data['msg'])\n        setTimeout(() => {\n          setLoginState('')\n        }, 2500);\n      }\n      // console.log(res.data['user'])\n    }\n    catch (error) {\n      console.log(error)\n    }\n    navigate(path, { replace: true })\n  }\n\n  return (\n    <Container>\n      <Grid container spacing={3} margin={0} >\n        <Grid item xs={12}>\n          <Typography variant='h3' color='primary'>User Login</Typography>\n        </Grid>\n        <Grid item >\n          <Fade in={Boolean(loginState)} timeout={1000}>\n            <Alert severity='warning' variant='outlined'>\n              {loginState}\n            </Alert>\n          </Fade>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id='uName'\n            label='Username'\n            value={uName}\n            onChange={handleUName}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id='uPass'\n            label='Password'\n            type='password'\n            value={uPass}\n            onChange={handleUPass}\n            onKeyPress={\n              e => { if (e.key === 'Enter') { handleLogin(e) } }\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button variant='contained' color='primary' onClick={handleLogin}>\n            Login\n          </Button>\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport default UserLogin;","import { Fragment, useEffect, useState } from 'react'\nimport {\n  Grid, Typography, Paper, TextField, Button, Switch, FormControlLabel,\n  Fade, Alert\n} from '@mui/material'\nimport axios from 'axios'\n\nimport { api_url } from '../tools/routes'\nimport RDialog from '../tools/ReusableDialog'\n\n\nconst UpdateUserForm = (props) => {\n\n  const { user, setUser, ...others } = props\n\n  const initialUser = {\n    username: '',\n    email: '',\n    password: '',\n    new_password: '',\n    confirm_new_password: '',\n    first_name: '',\n    last_name: '',\n    is_admin: false\n  }\n  const [userData, setUserData] = useState(initialUser)\n\n  useEffect(() => {\n    const source = axios.CancelToken.source()\n    if (user?.token) {\n      (async () => {\n        try {\n          const res = await axios.get(\n            api_url + '/users/get-user-data',\n            {\n              cancelToken: source.token,\n              headers: {\n                'Accept': '*/*',\n                'Authorization': `Bearer ${user['token']}`\n              }\n            }\n          )\n          setUserData({\n            ...res.data,\n            password: '',\n            new_password: '',\n            confirm_new_password: ''\n          })\n        }\n        catch (error) {\n          console.log(error)\n        }\n      })()\n    }\n    return () => {\n      source.cancel()\n    }\n  }, [user])\n\n  const handleChangeUser = (e) => {\n    const { name, value, checked } = e.target\n    setUserData({\n      ...userData,\n      [name]: name !== 'is_admin' ? value : checked\n    })\n  }\n\n  const [samePassword, setSamePassword] = useState(true)\n  const handleSamePassword = (e) => {\n    const { name, value } = e.target\n    if (name === 'new_password') {\n      setUserData({\n        ...userData,\n        [name]: value\n      })\n      setSamePassword(\n        userData['confirm_new_password'] === value\n      )\n    } else {\n      setUserData({\n        ...userData,\n        [name]: value\n      })\n      setSamePassword(\n        userData['new_password'] === value\n      )\n    }\n  }\n\n  const [updateState, setUpdateState] = useState({ msg: '', vnt: 'info' })\n  const handleUpdateUser = () => {\n    if (!samePassword) {\n      setUpdateState({ msg: \"new password doesn't match\", vnt: 'error' })\n      setTimeout(() => {\n        setUpdateState({ msg: '', vnt: 'error' })\n      }, 2500);\n      return\n    }\n\n    (async () => {\n      try {\n        const res = await axios.post(\n          api_url + '/users/update-user',\n          userData,\n          {\n            headers: {\n              'Accept': '*/*',\n              'Authorization': `Bearer ${user['token']}`\n            }\n          }\n        )\n        if (res.data['msg']) {\n          setUpdateState({ msg: res.data['msg'], vnt: 'success' })\n          const resultUser = {\n            ...user,\n            username: userData['username'],\n            first_name: userData['first_name'],\n            last_name: userData['last_name'],\n            is_admin: userData['is_admin']\n          }\n          setTimeout(() => {\n            setUpdateState({ msg: '', vnt: 'success' })\n          }, 2500)\n          if (res.data['wrn']) {\n            setTimeout(() => {\n              setUpdateState({ msg: res.data['wrn'], vnt: 'warning' })\n            }, 2600)\n            setTimeout(() => {\n              setUpdateState({ msg: '', vnt: 'warning' })\n              setUser(resultUser)\n            }, 5100)\n          } else {\n            setUser(resultUser)\n          }\n        } else {\n          setUpdateState({ msg: res.data['err'], vnt: 'error' })\n          setTimeout(() => {\n            setUpdateState({ msg: '', vnt: 'error' })\n          }, 2500)\n        }\n      }\n      catch (error) {\n        console.log(error)\n      }\n    })()\n\n    setTimeout(() => {\n      setSamePassword(true)\n    }, 500);\n  }\n\n\n  return (\n    <Fragment {...others}>\n      <Grid item xs={12}>\n        <Paper elevation={3}>\n          <Grid container spacing={2} margin={0} px={{ xs: 0, md: 3 }}>\n            <Grid item>\n              <Typography variant=\"h6\" color=\"primary\">\n                Update My User Account\n              </Typography>\n            </Grid>\n            <Grid item xs={12} mx={1}>\n              <Typography variant='h6' color='GrayText'>\n                {userData['email']}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <TextField size='small'\n                name='username'\n                label='Username'\n                value={userData['username']}\n                onChange={handleChangeUser}\n              />\n            </Grid>\n            {user['is_admin'] &&\n              <Grid item mb={0}>\n                <FormControlLabel control={\n                  <Switch\n                    name='is_admin'\n                    checked={userData['is_admin']}\n                    onChange={handleChangeUser}\n                  />\n                }\n                  label='Is Admin'\n                />\n              </Grid>\n            }\n            <Grid item>\n              <TextField size='small'\n                name='first_name'\n                label='First Name'\n                value={userData['first_name']}\n                onChange={handleChangeUser}\n              />\n            </Grid>\n            <Grid item>\n              <TextField size='small'\n                name='last_name'\n                label='Last Name'\n                value={userData['last_name']}\n                onChange={handleChangeUser}\n              />\n            </Grid>\n            <Grid item>\n              <Paper elevation={1} sx={{\n                background: 'darkGray2',\n                display: 'inline-block'\n              }}>\n                <Grid item pb={2}>\n                  <TextField size='small' error={!samePassword}\n                    name='new_password'\n                    label='New Password'\n                    type='password'\n                    value={userData['new_password']}\n                    onChange={handleSamePassword}\n                  />\n                </Grid>\n                <Grid item>\n                  <TextField size='small' error={!samePassword}\n                    name='confirm_new_password'\n                    label='Confirm New Password'\n                    type='password'\n                    value={userData['confirm_new_password']}\n                    onChange={handleSamePassword}\n                  />\n                </Grid>\n              </Paper>\n              <Grid container columns={2} pt={2}>\n                <Grid item pb={2}>\n                  <TextField size='small' color='warning'\n                    focused\n                    name='password'\n                    label='Password'\n                    type='password'\n                    value={userData['password']}\n                    onChange={handleChangeUser}\n                    onKeyPress={\n                      e => {if (e.key === 'Enter') {handleUpdateUser()}}\n                    }\n                  />\n                </Grid>\n                <RDialog\n                  title='Update User' message='Confirm user update?'\n                  confirmText='UPDATE' color='secondary'\n                  action={handleUpdateUser}\n                >\n                  <Grid item px={2} pb={2}>\n                    <Button variant=\"contained\" color=\"warning\">\n                      UPDATE\n                    </Button>\n                  </Grid>\n                </RDialog>\n              </Grid>\n              <Grid item pb={2}>\n                <Fade in={Boolean(updateState['msg'])} timeout={1000}>\n                  <Alert severity={updateState['vnt']} variant='outlined'>\n                    {updateState['msg']}\n                  </Alert>\n                </Fade>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid >\n    </Fragment >\n  )\n}\n\nexport default UpdateUserForm","import { Fragment, useState, useContext } from 'react'\nimport {\n  Grid, Typography, Paper, Button, Switch, FormControlLabel, FormControl,\n  Select, MenuItem, Snackbar, Alert, TextField\n} from '@mui/material'\n\nimport { UserSettingsContext } from '../tools/contexts'\nimport RDialog from '../tools/ReusableDialog'\nimport { useAxios } from '../tools/axiosTool'\n\n\nconst UserOptions = (props) => {\n\n  const { userSettings, setUserSettings } = useContext(UserSettingsContext)\n  const [settings, setSettings] = useState(userSettings)\n  const [message, setMessage] = useState({ msg: '', vnt: '' })\n  const [open, setOpen] = useState(false)\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleMessage = (msg, vnt) => {\n    setMessage({ msg: msg, vnt: vnt })\n    setOpen(true)\n  }\n\n  const handleChangeSettings = (e) => {\n    const { name, value, checked } = e.target\n    setSettings({\n      ...settings,\n      [name]: name !== 'calculator' ? value : checked\n    })\n  }\n\n  const handleSaveSettings = useAxios(\n    'put', '/users/update-user-settings', 'settings',\n    (d) => {\n      setUserSettings(d.settings)\n      handleMessage(d.msg, 'success')\n    },\n    (d) => { handleMessage(d.wrn, 'warning') },\n    (d) => { handleMessage(d.err, 'error') }\n  )\n\n  return (\n    <Fragment {...props}>\n      <Grid item xs={12}>\n        <Paper elevation={3}>\n          <Grid container spacing={2} margin={0} px={{ xs: 0, md: 3 }}>\n            <Grid item xs={12}>\n              <Typography variant=\"h6\" color=\"primary\">\n                User Settings\n              </Typography>\n            </Grid>\n            <Grid item xs={11}>\n              <FormControl fullWidth>\n                <Select size='small'\n                  name='theme_mode'\n                  value={settings.theme_mode}\n                  onChange={handleChangeSettings}\n                >\n                  <MenuItem value='dark'> DARK THEME </MenuItem>\n                  <MenuItem value='light'> LIGHT THEME</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControlLabel control={\n                <Switch\n                  name='calculator'\n                  checked={settings.calculator}\n                  onChange={handleChangeSettings}\n                />\n              }\n                label='Basic Calculator for Default'\n              />\n            </Grid>\n            <Grid item xs={11}>\n              <TextField fullWidth size='small' label='Posts Font Family'\n                name='postsFontFamily'\n                value={settings.postsFontFamily}\n                onChange={handleChangeSettings}\n              />\n            </Grid>\n            <Grid item xs={11}>\n              <TextField fullWidth size='small' label='Notification Volume'\n                type='range'\n                inputProps={{ min: 0, max: 1, step: 0.1}}\n                name='notifVol'\n                value={settings.notifVol}\n                onChange={handleChangeSettings}\n              />\n            </Grid>\n            <Grid item xs={12} px={2} pb={2}>\n              <RDialog\n                title='Save User Settings' confirmText='UPDATE'\n                message='Confirm Save user settings?' color='warning'\n                action={() => handleSaveSettings({\n                  settings: {\n                    theme_mode: settings.theme_mode,\n                    calculator: settings.calculator,\n                    postsFontFamily: settings.postsFontFamily,\n                    notifVol: parseFloat(settings.notifVol)\n                  }\n                })}\n              >\n                <Button variant=\"contained\" color=\"warning\">\n                  CONFIGURE\n                </Button>\n              </RDialog>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid >\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={handleClose}\n      >\n        <Alert variant='filled' color={message.vnt}>\n          {message.msg}\n        </Alert>\n      </Snackbar>\n    </Fragment >\n  )\n}\n\nexport default UserOptions\n","import { Fragment, useEffect, useState } from 'react'\nimport {\n  Grid, Typography, Paper, ListItem, ListItemButton, IconButton, ListItemText,\n  Fade, Alert, CircularProgress\n} from '@mui/material'\nimport { Delete } from '@mui/icons-material'\nimport axios from 'axios'\n\nimport { api_url } from '../tools/routes'\nimport RDialog from '../tools/ReusableDialog'\n\n\nconst OtherUsersList = (props) => {\n\n  const {\n    user, setEdit, usersSate, setUsersState,\n    initialOtherUser, setOtherUserData, ...others\n  } = props\n  const [usersData, setUsersData] = useState([])\n\n  useEffect(() => {\n    const source = axios.CancelToken.source()\n    if (user?.token) {\n      (async () => {\n        try {\n          const res = await axios.get(\n            api_url + '/users/get-users',\n            {\n              cancelToken: source.token,\n              headers: {\n                'Accept': '*/*',\n                'Authorization': `Bearer ${user['token']}`\n              }\n            }\n          )\n          setUsersData(res.data)\n        }\n        catch (error) {\n          console.log(error)\n        }\n      })()\n    }\n    return () => {\n      source.cancel()\n    }\n  }, [user, usersSate])\n\n  const handleEditUser = (user) => {\n    setOtherUserData({ ...user })\n    setEdit(true)\n  }\n\n  const handleDeleteUser = (email) => {\n    (async () => {\n      try {\n        const res = await axios.delete(\n          api_url + '/users/delete-other-user',\n          {\n            headers: {\n              'Accept': '*/*',\n              'Authorization': `Bearer ${user['token']}`\n            },\n            data: { email: email }\n          }\n        )\n        if (res.data['msg']) {\n          setUsersState({ msg: res.data['msg'], vnt: 'info' })\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'info' })\n          }, 2500)\n        } else {\n          setUsersState({ msg: res.data['err'], vnt: 'error' })\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'error' })\n          }, 2500)\n        }\n      }\n      catch (error) {\n        console.log(error)\n      }\n    })()\n    setEdit(false)\n    setOtherUserData(initialOtherUser)\n  }\n\n  return (\n    <Fragment {...others}>\n      <Grid item xs={12} md={4}>\n        <Paper elevation={3}>\n          <Grid container spacing={2} margin={0} px={{ xs: 0, md: 3 }}>\n            <Grid item>\n              <Typography variant=\"h6\" color=\"primary\">\n                List of Active Users\n              </Typography>\n            </Grid>\n            {usersData.length > 0 ? usersData.map((otherUser) => {\n              return (\n                <ListItem key={otherUser['username']} secondaryAction={\n                  <RDialog title='Delete' message='Confirm user Delete?'\n                    confirmText='DELETE' action={() =>\n                      handleDeleteUser(otherUser['email'])\n                    }\n                  >\n                    <IconButton edge='end'>\n                      <Delete fontSize='large' color='error' />\n                    </IconButton>\n                  </RDialog>\n                }>\n                  <ListItemButton onClick={() => { handleEditUser(otherUser) }}>\n                    <ListItemText\n                      primary={[\n                        `${otherUser['username']} -`,\n                        otherUser['first_name'],\n                        otherUser['last_name']\n                      ].join(' ')}\n                      secondary={otherUser['email']}\n                    />\n                  </ListItemButton>\n                </ListItem>\n              )\n            }) :\n              <Grid item xs={12}>\n                <Typography variant='h4' color='secondary'>\n                  L<CircularProgress size={17} color='secondary' />ading ...\n                </Typography>\n              </Grid>\n            }\n          </Grid>\n        </Paper>\n        <Grid item pt={3}>\n          <Fade in={Boolean(usersSate['msg'])} timeout={1000}>\n            <Alert severity={usersSate['vnt']} variant='outlined'>\n              {usersSate['msg']}\n            </Alert>\n          </Fade>\n        </Grid>\n      </Grid>\n    </Fragment>\n  )\n}\n\nexport default OtherUsersList","import { Fragment, useState } from 'react'\nimport {\n  Grid, Typography, Paper, TextField, Button, Switch, FormControlLabel\n} from '@mui/material'\nimport axios from 'axios'\n\nimport { api_url } from '../tools/routes'\nimport RDialog from '../tools/ReusableDialog'\n\n\nconst CreateUpdateOtherUser = (props) => {\n\n  const {\n    user, edit, setEdit, setUsersState, initialOtherUser,\n    otherUserData, setOtherUserData, ...others\n  } = props\n\n  const handleChangeOtherUser = (e) => {\n    const { name, value, checked } = e.target\n    setOtherUserData({\n      ...otherUserData,\n      [name]: name !== 'is_admin' ? value : checked\n    })\n  }\n\n  const [sameEmail, setSameEmail] = useState(true)\n  const handleSameEmail = (e) => {\n    const { name, value } = e.target\n    if (name === 'email') {\n      setOtherUserData({\n        ...otherUserData,\n        [name]: value\n      })\n      setSameEmail(\n        otherUserData['confirm_email'] === value\n      )\n    } else {\n      setOtherUserData({\n        ...otherUserData,\n        [name]: value\n      })\n      setSameEmail(\n        otherUserData['email'] === value\n      )\n    }\n  }\n\n  const handleCreateOtherUser = () => {\n    for (let [field, value] of Object.entries(otherUserData)) {\n      if (value === '') {\n        setUsersState({ msg: `Missing Value ${field}`, vnt: 'error' })\n        setTimeout(() => {\n          setUsersState({ msg: '', vnt: 'error' })\n        }, 2500);\n        return\n      }\n    }\n    if (!sameEmail) {\n      setUsersState({ msg: \"Email doesn't match\", vnt: 'error' })\n      setTimeout(() => {\n        setUsersState({ msg: '', vnt: 'error' })\n      }, 2500);\n      return\n    }\n    (async () => {\n      try {\n        const res = await axios.post(\n          api_url + '/users/signup',\n          otherUserData,\n          {\n            headers: {\n              'Accept': '*/*',\n              'Authorization': `Bearer ${user['token']}`\n            }\n          }\n        )\n        if (res.data['msg']) {\n          setUsersState({ msg: res.data['msg'], vnt: 'success' })\n          setOtherUserData(initialOtherUser)\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'success' })\n          }, 2500)\n        } else {\n          setUsersState({ msg: res.data['err'], vnt: 'error' })\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'error' })\n          }, 2500)\n        }\n      }\n      catch (error) {\n        console.log(error)\n      }\n    })()\n\n    setTimeout(() => {\n      setSameEmail(true)\n    }, 500);\n  }\n\n  const handleUpdateOtherUser = () => {\n    (async () => {\n      try {\n        const res = await axios.post(\n          api_url + '/users/update-other-user',\n          (({ email, username, first_name, last_name, is_admin }) => (\n            { email, username, first_name, last_name, is_admin }\n          ))(otherUserData),\n          {\n            headers: {\n              'Accept': '*/*',\n              'Authorization': `Bearer ${user['token']}`\n            }\n          }\n        )\n        if (res.data['msg']) {\n          setUsersState({ msg: res.data['msg'], vnt: 'success' })\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'success' })\n          }, 2500)\n        } else {\n          setUsersState({ msg: res.data['err'], vnt: 'error' })\n          setTimeout(() => {\n            setUsersState({ msg: '', vnt: 'error' })\n          }, 2500)\n        }\n      }\n      catch (error) {\n        console.log(error)\n      }\n    })()\n    setOtherUserData(initialOtherUser)\n    setEdit(false)\n  }\n\n  const handleCancelEditUser = () => {\n    setOtherUserData(initialOtherUser)\n    setEdit(false)\n    setSameEmail(true)\n  }\n\n  return (\n    <Fragment {...others}>\n      <Grid item xs={12} md={4}>\n        <Paper elevation={3}>\n          <Grid container spacing={2} margin={0} px={{ xs: 0, md: 3 }}>\n            <Grid item>\n              <Typography variant=\"h6\" color=\"primary\">\n                Update/Create User Account\n              </Typography>\n            </Grid>\n            {!edit ? <>\n              <Grid item>\n                <Paper elevation={1} sx={{\n                  background: 'darkGray2',\n                  display: 'inline-block'\n                }}>\n                  <Grid item pb={2}>\n                    <TextField size='small' error={!sameEmail}\n                      name='email'\n                      label='Email (ID - immutable)'\n                      value={otherUserData['email']}\n                      onChange={handleSameEmail}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <TextField size='small' error={!sameEmail}\n                      name='confirm_email'\n                      label='Confirm Email'\n                      value={otherUserData['confirm_email']}\n                      onChange={handleSameEmail}\n                    />\n                  </Grid>\n                </Paper>\n              </Grid>\n            </> :\n              <Grid item xs={12} mx={1}>\n                <Typography variant='h6' color='GrayText'>\n                  {otherUserData['email']}\n                </Typography>\n              </Grid>\n            }\n            <Grid item>\n              <TextField size='small'\n                name='username'\n                label='Username'\n                value={otherUserData['username']}\n                onChange={handleChangeOtherUser}\n              />\n            </Grid>\n            <Grid item mb={0}>\n              <FormControlLabel control={\n                <Switch\n                  name='is_admin'\n                  checked={otherUserData['is_admin']}\n                  onChange={handleChangeOtherUser}\n                />\n              }\n                label='Is Admin'\n              />\n            </Grid>\n            <Grid item>\n              <TextField size='small'\n                name='first_name'\n                label='Fisrs Name'\n                value={otherUserData['first_name']}\n                onChange={handleChangeOtherUser}\n              />\n            </Grid>\n            <Grid item>\n              <TextField size='small'\n                name='last_name'\n                label='Last Name'\n                value={otherUserData['last_name']}\n                onChange={handleChangeOtherUser}\n              />\n            </Grid>\n            <Grid item>\n              <Grid container columns={2} sx={{ alignItems: 'flex-end' }}>\n                {edit ? <>\n                  <Grid item pl={2} pb={2}>\n                    <Button variant=\"contained\" color=\"error\"\n                      onClick={handleCancelEditUser}\n                    >\n                      CANCEL\n                    </Button>\n                  </Grid>\n                  <RDialog title='Update Other User'\n                    message='Confirm user update?' color='secondary'\n                    confirmText='UPDATE' action={handleUpdateOtherUser}\n                  >\n                    <Grid item pl={2} pb={2}>\n                      <Button variant=\"contained\" color=\"warning\">\n                        UPDATE\n                      </Button>\n                    </Grid>\n                  </RDialog>\n                </> : <>\n                  <Grid item pb={2}>\n                    <Paper elevation={1} sx={{\n                      maxWidth: '230px',\n                      background: 'darkGray2',\n                      display: 'inline-block'\n                    }}>\n                      <Grid item p={2}>\n                        <Typography variant=\"body1\"\n                          color=\"warning.main\"\n                        >\n                          By default the password will be \"abc123\"\n                          the user must change it later\n                        </Typography>\n                      </Grid>\n                    </Paper>\n                  </Grid>\n                  <Grid item px={2} pb={2}>\n                    <Button variant=\"contained\" color=\"success\"\n                      onClick={handleCreateOtherUser}\n                    >\n                      CREATE\n                    </Button>\n                  </Grid>\n                </>}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Fragment>\n  )\n}\n\nexport default CreateUpdateOtherUser","import { useContext, useState } from 'react'\nimport {\n  Container, Grid, Typography,\n} from '@mui/material'\n\nimport { UserContext } from '../tools/contexts'\nimport UpdateUserForm from './UpdateUserFrom'\nimport UserOptions from './UserOptions'\nimport OtherUsersList from './OtherUsersList'\nimport CreateUpdateOtherUser from './CreateUpdateOtherUser'\n\n\nconst UserAccount = () => {\n\n  const { user, setUser } = useContext(UserContext)\n\n  const initialOtherUser = {\n    username: '',\n    email: '',\n    confirm_email: '',\n    first_name: '',\n    last_name: '',\n    is_admin: false\n  }\n\n  const [edit, setEdit] = useState(false)\n  const [otherUserData, setOtherUserData] = useState(initialOtherUser)\n  const [usersSate, setUsersState] = useState({ msg: '', vnt: 'success' })\n\n  const displayAdmin = user.is_admin ? 'block' : 'none'\n  const displayNoAdmin = user.is_admin ? 'none' : 'block'\n\n  return (\n    <Container maxWidth='xl'>\n      <Grid item xs={12}>\n        <Typography variant=\"h3\" color=\"secondary\">User Account</Typography>\n      </Grid>\n      <Grid container spacing={2}>\n\n        <Grid item xs={12} md={4} sx={{ display: displayAdmin }}>\n          <UpdateUserForm\n            user={user}\n            setUser={setUser}\n          />\n          <Grid item mt={2}> </Grid>\n          <UserOptions />\n        </Grid>\n\n        <Grid item xs={12} md={4} sx={{ display: displayNoAdmin }}>\n          <UpdateUserForm\n            user={user}\n            setUser={setUser}\n          />\n        </Grid>\n\n        <Grid item xs={12} md={4} sx={{ display: displayNoAdmin }} >\n          <UserOptions />\n        </Grid>\n\n        {user.is_admin && <>\n          <OtherUsersList\n            user={user}\n            setEdit={setEdit}\n            usersSate={usersSate}\n            setUsersState={setUsersState}\n            initialOtherUser={initialOtherUser}\n            setOtherUserData={setOtherUserData}\n          />\n\n          <CreateUpdateOtherUser\n            user={user}\n            edit={edit}\n            setEdit={setEdit}\n            setUsersState={setUsersState}\n            initialOtherUser={initialOtherUser}\n            otherUserData={otherUserData}\n            setOtherUserData={setOtherUserData}\n          />\n        </>}\n\n      </Grid>\n    </Container >\n  )\n}\n\nexport default UserAccount;","import { useContext, useEffect, useMemo } from 'react'\nimport { Routes, Route, Navigate } from 'react-router-dom'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\nimport { cyan, deepOrange, deepPurple } from \"@mui/material/colors\"\nimport { Paper, CssBaseline } from \"@mui/material\"\n\nimport Navbar from './NavBar'\nimport AuthenticatedContent from './AuthenticatedContent'\nimport { routes, sub_routes } from './tools/routes'\n\nimport News from './_news/News'\nimport Calculators from './_calculator/Calculators'\nimport Answers from './_answers/Answers'\nimport Settings from './_settings/Settings'\nimport AnswersSettings from './_settings/answers/AnswersSettings'\nimport CalculatorSettings from './_settings/calculator/CalculatorSettings'\nimport ExpressionsSettings from './_settings/expressions/ExpressionsSettings'\nimport UserLogin from './_user/UserLogin'\nimport UserAccount from './_user/UserAccount'\n\nimport { UserContext, AuthContext, UserSettingsContext } from './tools/contexts'\n\nconst App = () => {\n\n  const { user, setUser } = useContext(UserContext)\n  const { auth, setAuth } = useContext(AuthContext)\n  const { userSettings } = useContext(UserSettingsContext)\n\n  const theme = useMemo(() => {\n\n    const paperLightBG = userSettings.theme_mode === 'light' ? {\n      background: {\n        ...window.lightBG\n      }\n    } : {}\n\n    return createTheme({\n      palette: {\n        mode: userSettings.theme_mode,\n        primary: cyan,\n        secondary: deepOrange,\n        info: deepPurple,\n        ...paperLightBG\n      },\n      typography: {\n        fontSize: window.globalFontSize\n      }\n    })\n  }\n    , [userSettings.theme_mode]\n  )\n\n  useEffect(() => {\n    if (user?.token) {\n      setAuth(true)\n    }\n  }, [user, setAuth])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline enableColorScheme>\n        <Paper sx={{ paddingBlockEnd: 2, minHeight: '100vh' }} square>\n          <Navbar />\n          {(auth ?\n            <AuthenticatedContent\n              setAuth={setAuth} user={user} setUser={setUser}\n            >\n              <Routes>\n                <Route path={'/'} element={<Navigate to={routes[0]} />} />\n                <Route path={routes[0]} element={<News />} />\n                <Route path={routes[1]} element={<Calculators />} />\n                <Route path={routes[2]} element={<Answers />} />\n                <Route path={routes[3]} element={<Settings />} >\n                  <Route\n                    path={sub_routes[0]} element={<AnswersSettings />} />\n                  <Route\n                    path={sub_routes[1]} element={<CalculatorSettings />} />\n                  <Route\n                    path={sub_routes[2]} element={<ExpressionsSettings />} />\n                </Route>\n                <Route path={'login'} element={<UserLogin />} />\n                <Route path={'account'} element={<UserAccount />} />\n              </Routes>\n            </AuthenticatedContent>\n            :\n            <UserLogin />\n          )}\n        </Paper>\n      </CssBaseline>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport GlobalContext from './components/tools/contexts'\n\nimport App from './components/App';\n\nReactDOM.render(\n    <>\n      <BrowserRouter>\n        <GlobalContext>\n          <App />\n        </GlobalContext>\n      </BrowserRouter>\n    </>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}